[{"title":"Ubuntu配置Android SDK并使用Cordova","path":"/2024/04/06/Ubuntu配置Android-SDK并使用Cordova/","content":"在Ubuntu 20.04.6 LTS上配置Android SDK，并使用Cordova打包Android App\n\n这里使用Github的Codespace\n\n~~用Goorm IDE发现存储空间不够，在Codespace上又重装了一遍~~\n\n### 配置Cordova\n\n```bash\nsudo apt update\nnpm install cordova -g\nnpm update cordova -g\ncordova create <文件夹名> <包名> <软件名>\ncd <文件夹名>\ncordova platform add android --save\n```\n\n预览命令：\n\n```bash\ncordova serve\n```\n\n\n### 配置JDK\n\nCodespace自带JDK 21，但是好像有bug，JDK 17能正常使用\n\n```bash\nsudo apt install openjdk-17-jdk\n```\n\n安装JDK 17后需要设置JDK的环境变量，不然就是用的JDK 21的环境变量\n\n```bash\nexport JAVA_HOME=/usr/local/sdkman/candidates/java/17.0.10-ms  #jdk17的位置\n```\n\n### 配置Android SDK\n\n```bash\nwget https://dl.google.com/android/repository/commandlinetools-linux-11076708_latest.zip\nunzip commandlinetools-linux-11076708_latest.zip\n```\n\n添加环境变量：\n\n```bash\nvim ~/.bashrc\n```\n\n在`.bashrc`中添加下面三行：\n\n```bash\nexport ANDROID_SDK_ROOT=/path/to/your/sdk  #你的sdk位置\nexport ANDROID_HOME=$ANDROID_SDK_ROOT\nexport PATH=$PATH:$ANDROID_SDK_ROOT/bin\n```\n\n重新打开终端，输入\n\n```bash\nsdkmanager \"platform-tools\" \"platforms;android-33\" \"build-tools;33.0.2\" --sdk_root=$ANDROID_SDK_ROOT\n```\n\n### 打包\n\n```bash\ncordova build android\n```\n\n### 错误及解决方式\n\n`Error: LinkageError occurred while loading main class com.android.sdklib.tool.sdkmanager.SdkManagerCli        java.lang.UnsupportedClassVersionError: com/android/sdklib/tool/sdkmanager/SdkManagerCli has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0`\n\n解决方法：\n\n```bash\nsdkmanager \"build-tools;33.0.2\" --sdk_root=$ANDROID_SDK_ROOT\n```\n\n\n\n`Could not open settings generic class cache for settings file '/workspaces/android/app/platforms/android/settings.gradle' (/home/codespace/.gradle/caches/7.6/scripts/dqjrgsw17c62wbpoagod92e1e). > BUG! exception in phase 'semantic analysis' in source unit '_BuildScript_' Unsupported class file major version 65`\n\n解决方法：\n\n将`$JAVA_HOME`设置为JDK 17的目录\n\n\n\n`Execution failed for task ':app:mergeLibDexDebug'. > Could not resolve all files for configuration ':app:debugRuntimeClasspath'.   > Failed to transform debug (project :CordovaLib) to match attributes {artifactType=android-dex, asm-transformed-variant=NONE, com.android.build.api.attributes.AgpVersionAttr=7.4.2, com.android.build.api.attributes.BuildTypeAttr=debug, com.android.build.gradle.internal.attributes.VariantAttr=debug, dexing-enable-desugaring=true, dexing-enable-jacoco-instrumentation=false, dexing-is-debuggable=true, dexing-min-sdk=24, org.gradle.libraryelements=classes, org.gradle.usage=java-runtime}.      > Execution failed for DexingNoClasspathTransform: /workspaces/android/app/platforms/android/CordovaLib/build/intermediates/runtime_library_classes_dir/debug.         > Error while dexing.`\n\n解决办法：\n\n~~解决上面两个就没这个了~~","tags":["Github","Android","Linux"],"categories":["Code"]},{"title":"如何使用Toga制作奇怪的安卓App","path":"/2024/03/22/如何使用Toga制作奇怪的安卓App/","content":"使用Python的Toga框架，快速制作一些\"奇怪的\"安卓App\n\n~~比如给某位幸运的同学做个 同城约*~~  ~~哈哈哈哈~~\n\n#### 安装框架\n\n```bash\npip install briefcase\n```\n\n#### 新建项目\n\n```bash\nbriefcase new\n```\n\n#### 编写代码\n\n在`src`目录中找到`app.py`，这里给一个插入图片的示例，图片文件要放在`src/应用名/resources`目录下\n\n```python\nimport toga\nfrom toga.style import Pack\nfrom toga.style.pack import COLUMN\nfrom toga.images import Image\n\nclass MyApp(toga.App):\n    def startup(self):\n        main_box = toga.Box(style=Pack(direction=COLUMN))\n\n        image = Image('./resources/hi.jpg')\n        image_view = toga.ImageView(image, style=Pack(flex=1))\n        main_box.add(image_view)\n\n        self.main_window = toga.MainWindow(title=self.formal_name)\n        self.main_window.content = main_box\n        self.main_window.show()\n\ndef main():\n    return MyApp()\n```\n\n#### 打包Apk\n\n```bash\nbriefcase create android\nbriefcase build android\n```\n\n到这里会打包一个Apk，这个时候就可以安装了\n\n```bash\nbriefcase package android\n```\n\n上面这个命令会生成一个`.aab`文件，个人感觉没什么用\n\n#### ~~发给某幸运儿~~\n\n~~然后就被骂了哈哈哈哈哈哈~~\n\n这里还有一个展示html页面的代码，Windows11测试通过，安卓没试过\n\n```python\nimport toga\n\nclass MyApp(toga.App):\n    def startup(self):\n        webview = toga.WebView()\n        web=r\"\"\"<h1>这里放你的html内容</h1>\"\"\"\n        webview.set_content(\"example.com\", web)\n\n        self.main_window = toga.MainWindow(title=self.formal_name)\n        self.main_window.content = webview\n        self.main_window.show()\n\ndef main():\n    return MyApp()\n```","tags":["Code","Python","Toga"],"categories":["Code","Python"]},{"title":"Deno Deploy的妙用","path":"/2024/03/09/Deno-Deploy的妙用/","content":"## 搭建Hexo博客\n\n默认分配一个`project_name.deno.dev`域名，速度还可以\n\n类似Cloudflare Pages\n\n需要准备一个GitHub账号，使用GitHub登陆[Deno](https://dash.deno.com/signin)\n\n1. Deno Deploy中新建一个`Project`，选择`Create an empty project`\n\n   如果找不到`Create an empty project`，这里有链接：[New Project - Deploy (deno.com)](https://dash.deno.com/new)\n\n   ![project](/images/20240309/denop.png)\n\n2. 在博客的GitHub仓库中新建一个workflow，内容如下：\n\n   ``` yaml\n   name: Deploy\n   on:\n     workflow_dispatch:\n     push:\n       branches: gh-pages  # 根据需要设置触发条件\n   \n   jobs:\n     deploy:\n       name: Deploy\n       runs-on: ubuntu-latest\n   \n       steps:\n         - name: Clone repository\n           uses: actions/checkout@v4\n           with: \n             ref: 'gh-pages'  # 根据需要修改为你的分支名\n   \n         - name: Install Deno\n           uses: denoland/setup-deno@v1\n           with:\n             deno-version: v1.x\n   \n         - name: Install deployctl\n           run: \"deno install --allow-all --no-check -r -f https://deno.land/x/deploy/deployctl.ts\"\n   \n         - name: Upload to Deno Deploy\n           env: \n             DENO_TOKEN: ${{ secrets.DENO_TOKEN }}  # 使用设置的secrets名\n           run: \"DENO_DEPLOY_TOKEN=$DENO_TOKEN deployctl deploy --prod --project=<project_name> https://deno.land/std@0.208.0/http/file_server.ts\"  # 将<project_name>替换为你在Deno新建的项目名\n   ```\n\n3. 在[https://dash.deno.com/account#access-tokens](https://dash.deno.com/account#access-tokens)生成一个Access Token，添加进博客GitHub仓库的secrets中，名字可以用上面的`DENO_TOKEN`（也可以用别的名字）\n\n## 访问量统计\n\n使用Deno KV实现了一个类似不蒜子计数的功能\n\n###### Deno Deploy端的配置\n\n需要确保Deno KV中已经有`user`和`new`两组数据，没有可以先创建出来\n\n新建一个Playground，代码如下（请替换`url_set`的内容）\n\n```ts\nimport { Hash, encode } from \"https://deno.land/x/checksum@1.2.0/mod.ts\";\nconst kv = await Deno.openKv();\nconst url_set = ['这里替换为该Deploy项目的地址', '后面这几个是你的网站地址(可以只填一个)', '', '']\n\nDeno.serve(async (request: Request, info: Deno.ServeHandlerInfo) => {\n  if (request.url != url_set[0]+'/' && request.url != url_set[0]) {\n    return new Response('403 Forbidden',{status: 403});\n  }\n  var flag;\n  for (const pair of request.headers.entries()) {\n    if (pair[0] == 'referer') {\n      for (const url of url_set) {\n        if (pair[1].includes(url)) {\n          var h = new Headers();\n          h.append('Access-Control-Allow-Origin', url);\n          flag = true;\n          break;\n        }\n      }\n    }\n  }\n  if (!flag) {\n    return new Response('403 Forbidden',{status: 403});\n  }\n\n  await kv.atomic().sum([\"visitors\"], 1n).commit();\n  const count = await kv.get([\"visitors\"]);\n\n  const ip = info.remoteAddr.hostname;\n  const ip_md5 = new Hash(\"md5\").digest(encode(ip)).hex();\n\n  const user_array = await kv.get([\"user\"]);\n  if (user_array.value.indexOf(ip_md5) == -1) {\n    const ex_array = user_array.value.concat(ip_md5)\n    await kv.set([\"user\"], ex_array)\n    await kv.atomic().sum([\"new\"], 1n).commit();\n  }\n  const pv = await kv.get([\"new\"]);\n\n  const result = `\\{\"uv\": ${count.value}, \"pv\":${pv.value}\\}`;\n  return new Response(result, {headers: h});\n});\n```\n\n###### 前端的配置\n\nhtml部分：\n\n```html\n总访客<span id=\"counter_uv\"></span>人\n总访问量<span id=\"counter_pv\"></span>次\n```\n\njs部分：\n\n```javascript\nfetch('url') // 将url设置为你的Deno Deploy地址\n    .then(response => {\n        return response.json()\n    })\n    .then(data => {\n        document.getElementById('counter_uv').innerHTML = data.uv\n        document.getElementById('counter_pv').innerHTML = data.pv\n    })\n```","tags":["Code","Github"],"categories":["Code","Hexo"]},{"title":"使用Cloudflare Pages搭建图床","path":"/2024/02/08/使用Cloudflare-Pages搭建图床/","content":"> ⚠️警告⚠️\n>\n> `pages.dev`域名被移动运营商污染，请谨慎使用！\n\n使用`Cloudflare Pages`搭建图床\n\n除了图床也可以放各种各样的文件\n\n限制：\n\n- 最多100个`pages.dev`域名\n\n- 每月最多部署500次\n\n- 每个`Cloudflare Pages`最多20000个文件，单个文件最大`25 MiB`\n\n#### 使用方法\n\n1. 新建Git仓库，上传你的文件\n\n   在仓库根目录中新建一个`_headers`文件，内容如下\n\n   ```\n   /*\n     Access-Control-Allow-Origin: *\n   ```\n\n   注意：最好把`Access-Control-Allow-Origin: *`中的`*`替换为你的网站URL\n\n   不替换就是所有人都能跨域访问\n\n2. 新建一个`Cloudflare Pages`，选择上面仓库的某个分支并部署\n\n   此时你就得到了一个图床","tags":["Code","Cloudflare"],"categories":["Code"]},{"title":"Hexo ParticleX及Diaspora主题使用Artitalk","path":"/2024/02/02/Hexo-ParticleX及Diaspora主题使用Artitalk/","content":"`Hexo Particle`X和`Hexo Diaspora`主题，如果使用`hexo new page <页面名> `，并在生成的`.md`文件配置Artitalk的代码，会出现奇怪的Bug\n\n请教ChatGPT之后用下面的代码可以使用Artitalk\n\n```javascript\n<script>\n(function() {\n  document.addEventListener('DOMContentLoaded', function() {\n    // 找到class为content的div标签\n    var contentDiv = document.querySelector('.content');\n\n    // 动态创建div标签用于Artitalk\n    var artitalkDiv = document.createElement('div');\n    artitalkDiv.id = 'artitalk_main'; // 设置ID为artitalk_main\n    contentDiv.appendChild(artitalkDiv); // 将新创建的div添加到class为content的div内\n\n    // 创建script标签\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = 'https://cdn.staticfile.org/artitalk/3.3.4/js/artitalk.js';\n\n    // 当脚本加载完成后初始化Artitalk\n    script.onload = function() {\n      // 确保Artitalk已加载\n      if (typeof Artitalk !== 'undefined') {\n        new Artitalk({\n          appId: '你的appId',\n          appKey: '你的appKey',\n          serverURL: '你的serverURL',\n          color1: '#8DC9D3',\n          color2: '#FFBFD7',\n        });\n      }\n    };\n\n    // 将script标签添加到body中（也可以根据需要添加到head中）\n    document.body.appendChild(script);\n  });\n})();\n</script>\n```\n\n把这些添加进生成的`index.md`文件中\n\n这里是把Artitalk添加进`<div class=\"content\">`内，可以根据需要改变class名\n\n在Diaspora主题上有Bug，需要刷新页面才能显示Artitalk，暂时没想到怎么解决","tags":["Code"],"categories":["Code","Hexo"]},{"title":"Hexo ParticleX添加Valine评论","path":"/2024/01/21/Hexo-ParticleX添加Valine评论/","content":"1. 在`themes\\particlex\\layout\\comment.ejs`的最后添加以下代码：(可使用CDN)\n\n```html\n<% if (theme.valine.enable) { %>\n<script src=\"https://cdn.bootcdn.net/ajax/libs/valine/1.5.1/Valine.min.js\"></script>\n<script>\n    new Valine({\n        // 请使用你自己的设置\n        el: '#vcomments',\n        appId: '<%- theme.valine.appId %>',\n        appKey: '<%- theme.valine.appKey %>',\n        avatar: 'mp',\n        path: window.location.pathname,\n        serverURLs: '<%- theme.valine.serverURLs %>',\n        });\n</script>\n<% } %>\n```\n\n2. 从`themes\\particlex\\layout\\post.ejs`的倒数第三行开始加入以下代码：\n\n   ```html\n   <% if (theme.valine.enable) { %>\n   <div id=\"comment\">\n       <div id=\"vcomments\"></div>\n   </div>\n   <% } %>\n   ```\n\n3. 在`themes\\particlex\\_config.yml`加入Valine的配置项\n\n   ```yaml\n   # Valine\n   valine:\n       enable: true\n       appId: # 你的appId\n       appKey: # 你的appKey\n       serverURLs: # 你的serverURLs\n   ```\n\n所以ParticleX为什么不支持Valine\n高亮好像不支持ejs所以代码块上写的html","tags":["Code","Hexo"],"categories":["Code","Hexo"]},{"title":"使用Github Actions自动切换网站主题","path":"/2024/01/21/使用Github-Actions自动切换网站主题/","content":"> 现在网站用了六套主题，周一用Diaspora，周二和周日用ShokaX，周三和周六用Particlex，周四用Stellaris，周五用Fluid，里站用Brewski，可喜可贺\n\n使用`Github Actions`实现每天自动切换网站的主题\n\n比如周一、三、五、七使用`theme-A`，二、四、六使用`theme-B`\n\n当然也可以添加`theme-C`、`theme-D`...\n\n\n\n1. 在`用户名.github.io`仓库中有两个文件夹`theme-A/`和`theme-B/`，用于存放两套主题的静态文件\n\n2. 在GitHub的 Settings -> Developer Settings -> Personal access tokens -> Tokens (classic) ([链接](https://github.com/settings/tokens/new))生成一个token，填写Note，勾选`repo`和`workflow`然后生成\n\n   ![token](/images/20240121/token.png)\n\n3. 在仓库的 Settings -> Secrets and variables -> Actions 添加刚才的token\n\n   ![secret](/images/20240121/secret.png)\n\n4. 在GitHub仓库中新建`.github/workflows`，新建一个`.yaml`文件，文件名随意；可以先点`Run workflow`把静态文件部署到`gh-pages`分支\n\n```yaml\nname: Update Blog\n\non:\n  workflow_dispatch:\n  schedule:\n    - cron: \"0 2 * * *\"\n\njobs:\n  update:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout code\n        uses: actions/checkout@v4\n\n      - name: Determine Deployment Directory\n        id: determine_directory\n        run: |\n          day_of_week=$(date +'%u')\n          if [ $((day_of_week % 2)) -eq 0 ]; then\n          echo \"::set-output name=directory::theme-B/\"\n            else\n          echo \"::set-output name=directory::theme-A/\"\n          fi\n          \n      - name: Get Current Time\n        id: current_time\n        run: echo \"::set-output name=time::$(date +'%Y-%m-%d %H:%M:%S')\"\n\n      - name: Deploy\n        uses: peaceiris/actions-gh-pages@v3.9.3 # 使用部署到 GitHub pages 的 action\n        with:\n          publish_dir: ${{ steps.determine_directory.outputs.directory }} \n          github_token: ${{ secrets.DEPLOY_SECRET }} # secret 名\n          user_name: ${{ secrets.MY_USER_NAME }}\n          user_email: ${{ secrets.MY_USER_EMAIL }}\n          commit_message: \"Automated Deployment at ${{ steps.current_time.outputs.time }}\" # 在 commit message 中添加当前时间\n```\n\n5. 在仓库的 Settings -> Pages 设置`Build and deployment`的`Source`为`Deploy from a branch`，选择`gh-pages`分支，此时GitHub Pages将开始部署\n\n\n\n~~总之就挺神经病的~~\n\n~~写的方法我自己都看不懂~~\n\n~~感谢ChatGPT提供的GitHub Actions的源码~~","tags":["Code","Github"],"categories":["Code","Hexo"]},{"title":"生日快乐","path":"/2023/12/15/生日快乐/","content":"生日快乐，我的15岁\n\n许个愿——当然不能说出来啦！\n\n`12/15/2023`\n\n![birthday](/images/myicon.jpg)","tags":["birthday"]},{"title":"姐姐♡喜欢","path":"/2023/11/26/姐姐♡喜欢/","content":"好喜欢姐姐  \n\n想给姐姐生孩子  \n\n人家就是好喜欢被姐姐控制的感觉呜呜呜","tags":["日常","女生"],"categories":["日常"]},{"title":"Hexo Fluid添加一言及出处","path":"/2023/11/26/Hexo-Fluid添加一言及出处/","content":"原版只能显示`hitokoto`(正文)部分，不能显示`from`(出处)部分\n1. 修改`themes\\fluid\\layout\\_partials\\plugins\\typed.ejs`替换为如下内容  \n```js\n<% if(theme.fun_features.typing.enable && in_scope(theme.fun_features.typing.scope) && page.subtitle !== false) { %>\n  <%- js_ex(theme.static_prefix.typed, '/typed.min.js') %>\n  <script>\n    (function (window, document) {\n      var typing = Fluid.plugins.typing;\n      var subtitle = document.getElementById('subtitle');\n      if (!subtitle || !typing) {\n        return;\n      }\n      var text;\n      <% if (is_home() && theme.index.slogan.api && theme.index.slogan.api.enable) { %>\n        jQuery.ajax({\n          type: '<%= theme.index.slogan.api.method %>',\n          url: '<%- theme.index.slogan.api.url %>',\n          headers: <%- JSON.stringify(theme.index.slogan.api.headers || {}) %>,\n          dataType: 'json',\n          success: function(result) {\n            var apiText;\n            if (result) {\n              var keys = '<%= theme.index.slogan.api.keys %>'.split(',');\n              if (result instanceof Array) {\n                result = result[0];\n              }\n              for (const k of keys) {\n                var value = result[k];\n                if (typeof value === 'string') {\n                  apiText = value;\n                  break;\n                } else if (value instanceof Object) {\n                  result = value;\n                }\n              }\n              text = apiText ? (result.<%= theme.index.slogan.api.keys %> + ' - ' + result.<%= theme.index.slogan.api.keys2 %>) : (result.<%= theme.index.slogan.api.keys %> + ' - ' + result.<%= theme.index.slogan.api.keys2 %>);\n            }\n            typing(text);\n          },\n          error: function(xhr, status, error) {\n            if (error) {\n              console.error('Failed to request <%= theme.index.slogan.api.url %>:', error);\n            }\n            typing(text);\n          }\n        })\n      <% } else { %>\n        text = subtitle.getAttribute('data-typed-text');\n        typing(text);\n      <% } %>\n    })(window, document);\n  </script>\n<% } %>\n```\n2. 修改`_config.fluid.yml`  \n添加`keys2`用于控制出处的取值\n```yaml\n      # 从请求结果获取字符串的取值字段，最终必须是一个字符串，例如返回结果为 {\"data\": {\"author\": \"fluid\", \"content\": \"An elegant theme\"}}, 则取值字段为 ['data', 'content']；如果返回是列表则自动选择第一项\n      # The value field of the string obtained from the response. For example, the response content is {\"data\": {\"author\": \"fluid\", \"content\": \"An elegant theme\"}}, the expected `keys: ['data','content']`; if the return is a list, the first item is automatically selected\n      keys: ['hitokoto']\n      keys2: ['from']\n```","tags":["Code","Hexo","Fluid"],"categories":["Code","Hexo"]},{"title":"少女的人设","path":"/2023/11/05/少女的人设/","content":"- 姓名: 少女  \n- 性别: 女  \n- 年龄: 16  \n- 身高: 159.5cm  \n- 体重: <span class=\"heimu\">女孩子的体重是秘密!!</span>  \n- 胸围: 95D  \n- 生日: 2007.08.31  \n- 喜欢的人/物: 初音未来&&美少女&&Python  \n<div style=\"text-align:center;\"><p><del>才，才不是为了你才特意写的自我介绍啦</del></p><p><strong>世界第一可爱美少女</strong></p></div>","tags":["日常","女生","人设"],"categories":["日常"]},{"title":"想穿Lolita","path":"/2023/10/26/想穿Lolita/","content":"我想穿lolita  \n但是lolita好贵 买不起\n\n我不穿lolita也很可爱","tags":["日常","女生"],"categories":["日常"]},{"title":"谁能帮我找个女朋友","path":"/2023/10/14/谁能帮我找个女朋友/","content":"谁能帮我找个女朋友  \n要高中大姐姐","tags":["日常","女生"],"categories":["日常"]},{"title":"为Hexo Fluid的文章设置网格背景","path":"/2023/10/14/为Hexo-Fluid的文章设置网格背景/","content":"效果图：\n![效果图](/images/20231014/xiaoguo.png)\n两种方法，推荐第一种\n\n## 使用自定义CSS实现  \n- ~~代码是从[Gridzzly.com](https://gridzzly.com)抄的~~  \n- 推荐为暗色模式进行适配 ~~不然根本看不清~~  \n1. 新建CSS文件(不要通过自定义CSS导入)\n```css\n#board {\n    width: 100%;\n    height: 100%;\n    background-image: url(\"data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%226mm%22%20height%3D%226mm%22%20viewPort%3D%220%200%205mm%205mm%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%20%3Cline%20x1%3D%220mm%22%20y1%3D%225mm%22%20x2%3D%226mm%22%20y2%3D%225mm%22%20stroke-width%3D%220.3mm%22%20stroke%3D%22%23d4d4d4%22%2F%3E%20%3Cline%20x1%3D%225mm%22%20y1%3D%220mm%22%20x2%3D%225mm%22%20y2%3D%226mm%22%20stroke-width%3D%220.3mm%22%20stroke%3D%22%23d4d4d4%22%2F%3E%20%3C%2Fsvg%3E\");\n    background-position: 2px 2px;\n}\n```\n\n2. 引入CSS  \n```html\n<link id=\"custom-css\" rel=\"stylesheet\" type=\"text/css\" href=\"/css/divback.css\">\n```\n建议通过Hexo注入器进行引入\n\n3. 修改`Blog\\themes\\fluid\\layout\\_partials\\header\\navigation.ejs` 目前是第62行，为了给a标签绑定`onclick=\"toggleCSS()\"`\n```html navigation.ejs\n<a class=\"nav-link\" target=\"_self\" href=\"javascript:;\" aria-label=\"Color Toggle\" onclick=\"toggleCSS()\">\n```\n\n4. 导入自定义js\n```javascript\nfunction toggleCSS() {\n      var linkElement = document.getElementById(\"custom-css\");\n      if (linkElement.disabled) {\n        linkElement.disabled = false; // 启用CSS文件\n      } else {\n        linkElement.disabled = true; // 禁用CSS文件\n      }\n    }\n```\n\n## 使用Pattern.css实现  \n1. 在`layout.ejs`引入`Pattern.css`\n```html\n<link href=\"https://unpkg.com/pattern.css\" rel=\"stylesheet\">\n```\n\n2. 将`layout.ejs`和`post.ejs`两个文件中的`<div id=\"board\"`(没有向右的尖括号)改为`<div id=\"board\" class=\"pattern-dots-xl\"`(以.pattern-dots-xl为例，可以自己修改class的内容)","tags":["Code","Hexo"],"categories":["Code","Hexo"]},{"title":"魔改Hexo Fluid","path":"/2023/10/05/魔改Hexo-Fluid/","content":"整理一下本少女在使用hexo fluid时用到的代码  \n\n## 视频Banner\n\n将`themes/fluid/layout/_partials/header/banner.ejs`修改为以下内容：\n\n``` ejs\n<%\nvar banner_img = page.banner_img || theme.index.banner_img\nvar banner_img_height = parseFloat(page.banner_img_height || theme.index.banner_img_height)\nvar banner_mask_alpha = parseFloat(page.banner_mask_alpha || theme.index.banner_mask_alpha)\nvar subtitle = page.subtitle || page.title\n%>\n\n<div id=\"banner\" class=\"banner\" style=\"background: url('<%- url_for(banner_img) %>') no-repeat center center; background-size: cover;\">\n  <video autoplay loop muted playsinline poster=\"<%- url_for(banner_img) %>\"\n         style=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;\">\n    <source src=\"[你的视频背景地址]\" type=\"video/mp4\">\n  </video>\n  <div class=\"full-bg-img\">\n    <div class=\"mask flex-center\" style=\"background-color: rgba(0, 0, 0, <%= parseFloat(banner_mask_alpha) %>)\">\n      <div class=\"banner-text text-center fade-in-up\">\n        <div class=\"h2\">\n          <% if(theme.fun_features.typing.enable && in_scope(theme.fun_features.typing.scope)) { %>\n            <span id=\"subtitle\" data-typed-text=\"<%= subtitle %>\"></span>\n          <% } else { %>\n            <span id=\"subtitle\"><%- subtitle %></span>\n          <% } %>\n        </div>\n\n        <% if (is_post()) { %>\n          <%- inject_point('postMetaTop') %>\n        <% } %>\n      </div>\n\n      <% if (theme.scroll_down_arrow.enable && theme.scroll_down_arrow.banner_height_limit <= banner_img_height && page.layout !== '404') { %>\n        <div class=\"scroll-down-bar\">\n          <i class=\"iconfont icon-arrowdown\"></i>\n        </div>\n      <% } %>\n    </div>\n  </div>\n</div>\n```\n\n## 添加自定义字体\n\n1. 通过自定义CSS引入字体\n\n```css\n@font-face {\n  font-family: 'FontName';  /*换成你自己的字体名及路径*/\n  src: url('/font/font.ttf') format('truetype');\n  font-weight: normal;\n  font-style: normal;\n}\n```\n\n2. 修改`Blog/_config.fluid.yml`\n\n```yaml\nfont:\n  font_size: 18px   # 按需要自定义\n  font_family: FontName  # 换成你自己的字体名\n  letter_spacing: 0.02em\n  code_font_size: 85%\n```\n\n## 添加网页背景图片\n1. 使用自定义CSS实现  \n用上面的方法添加自定义CSS\n```css\nbody {\n  background: url(/img/background.jpg);  /*换成你自己的背景图*/\n  background-attachment: fixed;\n  background-size: cover;  \n}\n```\n可以使用图片的api，个人感觉会拖慢加载速度  \n\n## 复制变色\n自定义CSS添加以下内容  \n```css\n::selection {\n    color: #66ccff; /* 设置选中文字的颜色 */\n    background: transparent; /* 设置选中文字的背景为透明 */\n}\n```\n\n## Banner图随网页滑动变透明\n\nHexo Fluid，随着网页的滑动，Banner图会逐渐变透明  \n打字机也会变透明  \n\n自定义js\n```javascript\n// 获取图片元素\nvar image = document.getElementById(\"banner\");\nvar targetDistance = 695; // 设置滑动695px后完全透明\nwindow.addEventListener(\"scroll\", function() {\n  var scrollDistance = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n  var opacity = 1 - (scrollDistance / targetDistance);\n  if(opacity < 0) {\n    opacity = 0;\n  }\n  image.style.opacity = opacity.toString();\n});\n```\n或者根据滑动网页的百分比减少不透明度\n```javascript\nvar image = document.getElementById(\"banner\");\nvar pageHeight = document.body.scrollHeight - window.innerHeight;\nwindow.addEventListener(\"scroll\", function() {\n  var scrollDistance = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n  var opacity = 1 - (scrollDistance / pageHeight);\n  if(opacity < 0) {\n    opacity = 0;\n  } else if(opacity > 1) {\n    opacity = 1;\n  }\n  image.style.opacity = opacity.toString();\n});\n```\n设置banner的淡出样式\n```css\n#banner {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n```\n\n## 文章中代码的字体及背景色\n\n自定义CSS添加以下内容\n```css\n.markdown-body code {\n    tab-size: 4;\n    background-color: rgb(251 253 83 / 50%);\n    transition: background-color 0.2s ease-in-out;\n    font-family: \"FontName\";  /*改为你自己的字体名*/\n}\n```\n- `background-color`用于设置背景色\n- `font-family`用于设置字体\n\n## 滚动条\n\n自定义CSS\n\n``` css\n::-webkit-scrollbar {\n    width: 10px;\n    height: 10px;\n}\n\n::-webkit-scrollbar-thumb {\n    background-color: #e58a8a;\n    background-image: -webkit-linear-gradient( 45deg, rgba(255, 255, 255, 0.4) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.4) 50%, rgba(255, 255, 255, 0.4) 75%, transparent 75%, transparent);\n    border-radius: 2em;\n}\n\n::-webkit-scrollbar-corner {\n    background-color: transparent;\n}\n\n::-moz-selection {\n    color: #fff;\n    background-color: #e58a8a;\n}\n```\n\n## 关于Hexo Fluid的评论\n\n因为出了一点Bug，本站的评论通过修改`Blog/themes/fluid/layout/post.ejs`实现。  \n将`post.ejs`中的`<%- inject_point('postComments') %>`替换为 你使用的评论系统 提供的html代码  \n以Utterance为例:\n\n```html\n<script src=\"https://utteranc.es/client.js\"\n        repo=\"用户名/仓库地址\"\n        issue-term=\"pathname\"\n        theme=\"github-light\"\n        crossorigin=\"anonymous\"\n        async>\n</script>\n```\n\n## 关于网站图标\n\n在`_config.fluid.yml`设置没反应，手动将网页图标重命名为`favicon.ico`，复制到`public`文件夹下\n\n## 关于Valine\n\n测试时发现LeanCloud提供的域名会屏蔽中国大陆的访问...  \n绑定自己的域名后就能正常访问...  \n\n在LeanCloud的`设置-域名绑定`选项绑定自己的子域名，然后在子域名的DNS上设置`CNAME`记录，解析到LeanCloud提供的域名，之后配置Valine时,使用绑定的子域名  \n\n~~不想打字了~~","tags":["Hexo","Fluid","资源"],"categories":["Code","Hexo"]},{"title":"我想变成女生","path":"/2023/10/05/我想变成女生/","content":"# 我想变成女生\n\n好想变成女生\n\n变成女生会很可爱\n\n为什么我不是女生，可恶","tags":["日常","女生"],"categories":["日常"]},{"title":"Hello, World!","path":"/2023/08/30/hello-world/","content":"# 初音ミク16岁生日快乐！！！\n# 同时纪念少女的小站正式建成  \n# 2023.08.31 00:00 (JST)\n\nHello, World!"},{"title":"about","path":"/about/index.html","content":"- 少女  \n- 永远16岁  \n- 主要性别: 女\n- miku的老婆\n\n目前初三 ~~明年就高一了~~  \n喜欢初音未来、Python娘、动漫及代码  \n~~周末小概率更新~~"},{"title":"少女的日记本","path":"/shuoshuo/index.html","content":"<script type=\"text/javascript\" src=\"https://cdn.staticfile.org/artitalk/3.3.4/js/artitalk.js\"></script>\n<div id=\"artitalk_main\"></div>\n<script>\nnew Artitalk({\n    appId: 'MMH0HmN9WNMhxXgccAiwt5qA-MdYXbMMI',\n    appKey: 'meCb4Dp0hSEmax5CgVfNrZST',\n    serverURL: 'https://api.miku.run.place',\n    color1: '#8DC9D3',\n    color2: '#FFBFD7',\n})\n</script>"}]