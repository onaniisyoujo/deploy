const CONFIG={version:"0.3.15",hostname:"https://onaniishoujo.github.io",root:"/",statics:"/",favicon:{normal:"assets/favicon.ico",hidden:"assets/failure.ico"},darkmode:!1,auto_dark:{enable:!0,start:20,end:7},auto_scroll:!1,js:{copy_tex:"https://npm.webcache.cn/katex@0.16.7/dist/contrib/copy-tex.min.js",fancybox:"https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/??jquery/3.5.1/jquery.min.js,fancybox/3.5.7/jquery.fancybox.min.js,justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"},css:{katex:"https://npm.webcache.cn/katex@0.16.7/dist/katex.min.css",mermaid:"css/mermaid.css",fancybox:"https://npm.webcache.cn/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css",justifiedGallery:"https://npm.webcache.cn/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"},loader:{start:!0,switch:!1},search:null,outime:{enable:!1,days:90},quicklink:{timeout:3e3,priority:!0},playerAPI:"https://api.injahow.cn",disableVL:!1,noPlayer:!0,fireworks:{excludeElements:["a"],particles:[{shape:"circle",move:["emit"],easing:"easeOutExpo",colors:["rgba(255,182,185,.9)","rgba(250,227,217,.9)","rgba(187,222,214,.9)","rgba(138,198,209,.9)","rgba(192,227,255,.9)","rgba(255,255,255,.9)"],number:30,duration:[1200,1800],shapeOptions:{radius:[16,32]}},{shape:"circle",move:["diffuse","rotate"],easing:"easeOutExpo",colors:["#fff"],number:1,duration:[1200,1800],shapeOptions:{radius:20,alpha:.5,lineWidth:6}}]}};(()=>{var ut=Object.create,Ie=Object.defineProperty,pt=Object.getOwnPropertyDescriptor,mt=Object.getOwnPropertyNames,ft=Object.getPrototypeOf,gt=Object.prototype.hasOwnProperty,Ce=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),yt=(e,t,a,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mt(t))!gt.call(e,o)&&o!==a&&Ie(e,o,{get:()=>t[o],enumerable:!(s=pt(t,o))||s.enumerable});return e},xe=(e,t,a)=>(a=e!=null?ut(ft(e)):{},yt(t||!e||!e.__esModule?Ie(a,"default",{value:e,enumerable:!0}):a,e)),vt=Ce((e,t)=>{(function(a,s){typeof e=="object"&&typeof t<"u"?t.exports=s():typeof define=="function"&&define.amd?define(s):(a=typeof globalThis<"u"?globalThis:a||self).anime=s()})(e,function(){"use strict";class a{constructor(){this.queue=[]}add(p){return this.queue.push(new l(p)),this}play(){this.queue.forEach(p=>p.play())}}let s={targets:null,duration:1/0,easing:"linear",delay:0,begin:null,update:null,complete:null};var o=()=>{let b={linear:()=>L=>L},p={Sine:()=>L=>1-Math.cos(L*Math.PI/2),Circ:()=>L=>1-Math.sqrt(1-L*L),Back:()=>L=>L*L*(3*L-2),Bounce:()=>L=>{let O,i=4;for(;L<((O=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*O-2)/22-L,2)}};return["Quad","Cubic","Quart","Quint","Expo"].forEach((L,O)=>{p[L]=()=>i=>Math.pow(i,O+2)}),Object.keys(p).forEach(L=>{let O=p[L];b["easeIn"+L]=O,b["easeOut"+L]=()=>i=>1-O()(1-i),b["easeInOut"+L]=()=>i=>i<.5?O()(2*i)/2:1-O()(-2*i+2)/2,b["easeOutIn"+L]=()=>i=>i<.5?(1-O()(1-2*i))/2:(O()(2*i-1)+1)/2}),b};let f=["translateX","translateY","translateZ"],d=(b,p)=>b instanceof HTMLElement&&b.style&&"transform"in b.style&&f.includes(p)?"transform":b instanceof HTMLElement&&b.style&&p in b.style?"style":"attribute";class l{constructor(p=s){p=Object.assign({},s,p);let{targets:L,duration:O,easing:i,delay:m,begin:h,update:c,complete:r,...n}=p;this.targets=L,this.duration=O,this.easing=i,this.delay=m,this.begin=h,this.update=c,this.complete=r,this.dest=n||{},this.tl=null,this.isPlay=!1}timeline(){return this.tl===null&&(this.tl=new a),this.tl}play(){this.isPlay||(this.isPlay=!0,(p=>{let L=Date.now()+p.delay,O=L+p.duration,i=!!p.targets,m=[],h=(n,v,u,w,M,k=!1)=>{let S;if(typeof w=="string")if(w.endsWith("%"))S="%",w=parseFloat(w);else{if(!w.endsWith("px"))throw new TypeError("string value must ends with '%' or 'px'");S="px",w=parseFloat(w)}let N=k?w:(w-v)*u+v;switch(S&&(N+=S),d(n,M)){case"transform":n.style.transform=S?`${M}(${N})`:`${M}(${N}px)`;break;case"style":n.style[M]=N;break;case"attribute":n[M]=N}},c=(n,v,u=!1)=>{p.targets.forEach((w,M)=>{Object.keys(p.dest).forEach(k=>{let S=parseFloat(m[M][k]),N=p.dest[k];if(typeof N=="object")if(Array.isArray(N)){let q=0;for(;q<N.length&&!(v-L<N[q].startTimeStamp);q++);let{value:_,duration:W,easing:X,startTimeStamp:V}=N[q-1];v<=L+W+V?(n=o()[X||p.easing]()((v-L)/W),h(w,S,n,_,k)):u&&h(w,S,n,_,k,u)}else{let{value:q,duration:_,easing:W}=N;v<=L+_?(n=o()[W||p.easing]()((v-L)/_),h(w,S,n,q,k)):u&&h(w,S,n,q,k,u)}else typeof N=="function"&&(N=N(w,M)),h(w,S,n,N,k,u)})})},r=()=>{let n=Date.now();if(n>O)return c(1,n,!0),typeof p.complete=="function"&&p.complete(p.targets),void(p.isPlay=!1);if(n<L)return void requestAnimationFrame(r);let v=o()[p.easing]()((n-L)/p.duration);i&&c(v,n),typeof p.update=="function"&&p.update(p.targets),requestAnimationFrame(r)};(()=>{if(i){Array.isArray(p.targets)||(p.targets=[p.targets]);for(let n of p.targets){let v={};for(let u in p.dest){let w=p.dest[u];if(Array.isArray(w))if(w.length===2&&typeof w[0]!="object"){switch(d(n,u)){case"transform":typeof w[0]=="string"?n.style.transform=`${u}(${w[0]})`:n.style.transform=`${u}(${w[0]}px)`;break;case"style":n.style[u]=w[0];break;case"attribute":n[u]=w[0]}v[u]=w[0],p.dest[u]=w[1]}else{let M=0;for(let k of w)k.startTimeStamp=M,M+=k.duration;v[u]=n[u]}else switch(d(n,u)){case"transform":let M=new RegExp(`${u}((w+))`,"g");v[u]=n.style.transform.match(M)[0];break;case"style":v[u]=n.style[u];break;case"attribute":v[u]=n[u]}}m.push(v)}}})(),typeof p.begin=="function"&&p.begin(p.targets),r()})(this))}}let y=b=>new l(b);return y.random=function(b,p){return Math.floor(Math.random()*(p-b+1))+b},y})}),wt=Ce((e,t)=>{(function(a,s){typeof e=="object"&&typeof t<"u"?t.exports=s():typeof define=="function"&&define.amd?define(s):(a=typeof globalThis<"u"?globalThis:a||self).firework=s()})(e,function(){"use strict";class a{constructor(){this.queue=[]}add(g){return this.queue.push(new f(g)),this}play(){this.queue.forEach(g=>g.play())}}let s={targets:null,duration:1/0,easing:"linear",update:null};var o=()=>{let T={linear:()=>E=>E},g={Sine:()=>E=>1-Math.cos(E*Math.PI/2),Circ:()=>E=>1-Math.sqrt(1-E*E),Back:()=>E=>E*E*(3*E-2),Bounce:()=>E=>{let C,A=4;for(;E<((C=Math.pow(2,--A))-1)/11;);return 1/Math.pow(4,3-A)-7.5625*Math.pow((3*C-2)/22-E,2)}};return["Quad","Cubic","Quart","Quint","Expo"].forEach((E,C)=>{g[E]=()=>A=>Math.pow(A,C+2)}),Object.keys(g).forEach(E=>{let C=g[E];T["easeIn"+E]=C,T["easeOut"+E]=()=>A=>1-C()(1-A),T["easeInOut"+E]=()=>A=>A<.5?C()(2*A)/2:1-C()(-2*A+2)/2,T["easeOutIn"+E]=()=>A=>A<.5?(1-C()(1-2*A))/2:(C()(2*A-1)+1)/2}),T};class f{constructor(g=s){g=Object.assign({},s,g);let{targets:E,duration:C,easing:A,update:H,...j}=g;this.targets=E,this.duration=C,this.easing=A,this.update=H,this.dest=j||{},this.tl=null,this.isPlay=!1}timeline(){return this.tl===null&&(this.tl=new a),this.tl}play(){this.isPlay||(this.isPlay=!0,(g=>{let E=Date.now(),C=E+g.duration,A=!!g.targets,H=[],j=(R,B,D,P,z,G=!1)=>{R[z]=G?P:(P-B)*D+B},I=(R,B,D=!1)=>{g.targets.forEach((P,z)=>{Object.keys(g.dest).forEach(G=>{let K=parseFloat(H[z][G]),J=g.dest[G];if(typeof J=="object"){if(!Array.isArray(J)){let{value:dt,duration:ht,easing:Sa}=J;B<=E+ht?(R=o()[Sa||g.easing]()((B-E)/ht),j(P,K,R,dt,G)):D&&j(P,K,R,dt,G,D)}}else typeof J=="function"&&(J=J(P,z)),j(P,K,R,J,G,D)})})},U=()=>{let R=Date.now();if(R>C)return I(1,R,!0),void(g.isPlay=!1);if(R<E)return void requestAnimationFrame(U);let B=o()[g.easing]()((R-E)/g.duration);A&&I(B,R),typeof g.update=="function"&&g.update(g.targets),requestAnimationFrame(U)};(()=>{if(A){Array.isArray(g.targets)||(g.targets=[g.targets]);for(let R of g.targets){let B={};for(let D in g.dest)B[D]=R[D];H.push(B)}}})(),U()})(this))}}let d=T=>new f(T);d.random=(T,g)=>Math.floor(Math.random()*(g-T+1))+T;let l=T=>Array.isArray(T)?d.random(T[0],T[1]):T,y=(T,g)=>{g=g.toUpperCase();do{if(T==null)break;if(T.nodeName===g)return!0}while((T=T.parentNode)!==null);return!1},b=(T,g)=>{var E;if(g.move.includes("emit")){let{emitRadius:C=[50,180]}=(E=g.moveOptions)!==null&&E!==void 0?E:{},A=d.random(0,360)*Math.PI/180;C=l(C);let H=[-1,1][d.random(0,1)]*C;T.endPos={x:T.x+H*Math.cos(A),y:T.y+H*Math.sin(A)}}},p=(T,g)=>{var E;if(g.move.includes("rotate")){let{angle:C=[-180,180]}=(E=g.moveOptions)!==null&&E!==void 0?E:{};T.endRotation=l(C)}};class L{constructor(g,E,C,A,H,j,I){this.ctx=g,this.x=E,this.y=C,this.color=A,this.radius=H,this.alpha=j,this.lineWidth=I,this.rotation=0}draw(){let{ctx:g,x:E,y:C}=this;g.save(),g.translate(E,C),g.rotate(this.rotation*(Math.PI/180)),g.globalAlpha=this.alpha,this.paint(),this.lineWidth?(g.lineWidth=this.lineWidth,g.strokeStyle=this.color,g.stroke()):(g.fillStyle=this.color,g.fill()),g.globalAlpha=1,g.restore()}}class O extends L{paint(){this.ctx.beginPath(),this.ctx.arc(0,0,this.radius,0,2*Math.PI)}}class i extends L{constructor(g,E,C,A,H,j,I,U){super(g,E,C,A,H,j,U),this.sides=I}paint(){let{ctx:g,sides:E,radius:C}=this;g.beginPath(),g.moveTo(C*Math.cos(0),C*Math.sin(0));for(let A=1;A<=E;A++){let H=2*A*Math.PI/E;g.lineTo(C*Math.cos(H),C*Math.sin(H))}g.closePath()}}class m extends L{constructor(g,E,C,A,H,j,I,U){super(g,E,C,A,H,j,U),this.spikes=I}paint(){let{ctx:g,spikes:E,radius:C}=this;g.beginPath(),g.moveTo(0,0-C);for(let A=0;A<2*E;A++){let H=A*Math.PI/E-Math.PI/2,j=A%2==0?C:.5*C,I=Math.cos(H)*j,U=Math.sin(H)*j;g.lineTo(I,U)}g.closePath()}}let h=(T,g,E,C)=>{let A=l(C.number),{radius:H,alpha:j=100,lineWidth:I}=C.shapeOptions;Array.isArray(j)?j=j.map(R=>100*R):j*=100;let U=[];for(let R=0;R<A;R++){let B=new O(T,g,E,C.colors[d.random(0,C.colors.length-1)],l(H),l(j)/100,l(I));b(B,C),p(B,C),U.push(B)}return U},c=(T,g,E,C)=>{let A=l(C.number),{radius:H,alpha:j=100,lineWidth:I}=C.shapeOptions;Array.isArray(j)?j=j.map(B=>100*B):j*=100;let U=l(C.shapeOptions.spikes),R=[];for(let B=0;B<A;B++){let D=new m(T,g,E,C.colors[d.random(0,C.colors.length-1)],l(H),l(j)/100,U,l(I));b(D,C),p(D,C),R.push(D)}return R},r=(T,g,E,C)=>{let A=l(C.number),{radius:H,alpha:j=100,lineWidth:I}=C.shapeOptions;Array.isArray(j)?j=j.map(B=>100*B):j*=100;let U=[],R=l(C.shapeOptions.sides);for(let B=0;B<A;B++){let D=new i(T,g,E,C.colors[d.random(0,C.colors.length-1)],l(H),l(j)/100,R,l(I));b(D,C),p(D,C),U.push(D)}return U},n=document.createElement("canvas");n.style.cssText="position:fixed;top:0;left:0;pointer-events:none;z-index:9999999",document.body.appendChild(n);let v=n.getContext("2d"),u=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?"touchstart":"click",w=0,M=0,k=()=>{n.width=2*document.documentElement.clientWidth,n.height=2*document.documentElement.clientHeight,n.style.width=document.documentElement.clientWidth+"px",n.style.height=document.documentElement.clientHeight+"px";let T=n.getContext("2d");T.setTransform(1,0,0,1,0,0),T.scale(2,2)},S=T=>{var g,E,C,A;let{move:H}=T,j={};if(H.includes("emit")){let{radius:I=.1,alphaChange:U=!1,alphaEasing:R="linear",alphaDuration:B=[600,800]}=(g=T.moveOptions)!==null&&g!==void 0?g:{},{alpha:D=0}=(E=T.moveOptions)!==null&&E!==void 0?E:{};Array.isArray(D)?D=D.map(z=>100*z):D*=100;let P={};U&&(P={alpha:{value:l(D)/100,easing:R,duration:l(B)}}),j={...j,x:z=>z.endPos.x,y:z=>z.endPos.y,radius:l(I),...P}}else if(H.includes("diffuse")){let{diffuseRadius:I=[80,160],lineWidth:U=0,alphaEasing:R="linear",alphaDuration:B=[600,800]}=(C=T.moveOptions)!==null&&C!==void 0?C:{},{alpha:D=0}=(A=T.moveOptions)!==null&&A!==void 0?A:{};Array.isArray(D)?D=D.map(P=>100*P):D*=100,j={...j,radius:l(I),lineWidth:l(U),alpha:{value:l(D)/100,easing:R,duration:l(B)}}}return H.includes("rotate")&&(j={...j,rotation:I=>I.endRotation}),j},N=T=>{for(let g of T)g.draw()},q=d({duration:1/0,update(){v.clearRect(0,0,n.width,n.height)}}),_=null,W=null,X=T=>{W=T,_&&document.removeEventListener(u,_,!1),_=g=>{for(let E of T.excludeElements)if(y(g.target,E))return;q.play(),(E=>{w=E.clientX||E.touches&&E.touches[0].clientX,M=E.clientY||E.touches&&E.touches[0].clientY})(g),V(w,M)},document.addEventListener(u,_,!1),k(),window.removeEventListener("resize",k,!1),window.addEventListener("resize",k,!1)},V=(T,g)=>{if(!W)return;let{particles:E}=W,C=d().timeline();for(let A of E){let{duration:H,easing:j}=A,I=[];A.shape==="circle"?I=h(v,T,g,A):A.shape==="star"?I=c(v,T,g,A):A.shape==="polygon"&&(I=r(v,T,g,A));let U=S(A);C.add({targets:I,duration:l(H),easing:j,update:N,...U})}C.play()};return T=>{document.readyState==="loading"?window.addEventListener("DOMContentLoaded",()=>X(T),{passive:!0}):X(T)}})}),bt=Ce((e,t)=>{(function(a,s){typeof e=="object"&&typeof t<"u"?t.exports=s():typeof define=="function"&&define.amd?define(s):(a=typeof globalThis<"u"?globalThis:a||self).Pjax=s()})(e,function(){"use strict";function a(c,r,n){return c instanceof HTMLCollection||c instanceof NodeList||c instanceof Array?Array.prototype.forEach.call(c,r,n):r.call(n,c,0,[c])}let s=(c,r)=>{(c=typeof c=="string"?c.split(" "):c).forEach(r)};function o(c,r,n,v){s(r,u=>{a(c,w=>{w.addEventListener(u,n,v)})})}function f(c,r,n={}){s(r,v=>{let u=new CustomEvent(v,{bubbles:!0,cancelable:!0,...n});a(c,w=>{w.dispatchEvent(u)})})}function d(c){let r=c.text||c.textContent||c.innerHTML||"",n=c.src||"",v=c.parentNode||document.querySelector("head")||document.documentElement,u=document.createElement("script");return!r.match("document.write")&&(u.type="text/javascript",u.id=c.id,n!==""&&(u.src=n,u.async=!1),r!==""&&u.appendChild(document.createTextNode(r)),v.appendChild(u),(v instanceof HTMLHeadElement||v instanceof HTMLBodyElement)&&v.contains(u)&&v.removeChild(u),!0)}function l(c,r,n,v=document){c.forEach(u=>{a(v.querySelectorAll(u),r,n)})}var y=(()=>{let c=0;return()=>`pjax${new Date().getTime()}_${c++}`})();function b(c,r){c.outerHTML=r.outerHTML,this.onSwitch()}function p(c,r){if(c.innerHTML=r.innerHTML,r.hasAttributes()){let n=r.attributes;for(let v=0;v<n.length;v++)c.attributes.setNamedItem(n[v].cloneNode())}this.onSwitch()}let L="data-pjax-state";function O(c,r){if(r.defaultPrevented||r.returnValue===!1)return;let n={...this.options},v=function(u,w){return w.which>1||w.metaKey||w.ctrlKey||w.shiftKey||w.altKey?"modifier":u.protocol!==window.location.protocol||u.host!==window.location.host?"external":u.hash&&u.href.replace(u.hash,"")===window.location.href.replace(location.hash,"")?"anchor":u.href===window.location.href.split("#")[0]+"#"?"anchor-empty":null}(c,r);if(v)c.setAttribute(L,v);else{if(r.preventDefault(),this.options.currentUrlFullReload&&c.href===window.location.href.split("#")[0])return c.setAttribute(L,"reload"),void this.reload();c.setAttribute(L,"load"),n.triggerElement=c,this.loadUrl(c.href,n)}}function i(c){if(c.tagName.toLowerCase()!=="a")throw new Error("theme-shokax-pjax can only be applied on <a>");c.hasAttribute("data-pjax-state")||this.attachLink(c)}function m(c,r,n,v,u,w){let M=[];n.forEach(k=>{let S=v.querySelectorAll(k),N=u.querySelectorAll(k);if(S.length!==N.length)throw new Error(`DOM doesn't look the same on new loaded page: '${k}' - new ${S.length}, old ${N.length}`);a(S,(q,_)=>{let W=N[_],X=c[k]?c[k].bind(this,W,q,w,r[k]):b.bind(this,W,q,w);M.push(X)},this)},this),this.state.numPendingSwitches=M.length,M.forEach(k=>{k()})}class h{constructor(r){this.state={numPendingSwitches:0,href:null,options:null},this.options=function({elements:n="a[href]",selectors:v=["title",".js-Pjax"],switches:u={},switchesOptions:w={},history:M=!0,scrollTo:k=0,scrollRestoration:S=!0,cacheBust:N=!0,timeout:q=0,currentUrlFullReload:_=!1}={}){let W={elements:n,selectors:v,switches:u,switchesOptions:w,history:M,scrollTo:k,scrollRestoration:S,cacheBust:N,timeout:q,currentUrlFullReload:_};return W.switches.head||(W.switches.head=p),W.switches.body||(W.switches.body=p),W}(r),this.options.scrollRestoration&&"scrollRestoration"in history&&(history.scrollRestoration="manual"),this.maxUid=this.lastUid=y(),this.parseDOM(document),o(window,"popstate",n=>{let v=n;if(v.state){let u={...this.options};u.url=v.state.url,u.title=v.state.title,u.history=!1,u.scrollPos=v.state.scrollPos,v.state.uid<this.lastUid?u.backward=!0:u.forward=!0,this.lastUid=v.state.uid,this.loadUrl(v.state.url,u)}})}getElements(r){return r.querySelectorAll(this.options.elements)}parseDOM(r){a(this.getElements(r),i,this)}refresh(r){this.parseDOM(r||document)}reload(){window.location.reload()}forEachSelectors(r,n,v){return l.bind(this)(this.options.selectors,r,n,v)}switchSelectors(r,n,v,u){return m.bind(this)(this.options.switches,this.options.switchesOptions,r,n,v,u)}latestChance(r){window.location=r}onSwitch(){f(window,"resize scroll"),this.state.numPendingSwitches--,this.state.numPendingSwitches===0&&this.afterAllSwitches()}loadContent(r,n){if(typeof r!="string")return void f(document,"pjax:complete pjax:error",n);let v=document.implementation.createHTMLDocument("pjax"),u=/\s?[a-z:]+(?:=['"][^'">]+['"])*/gi,w=r.match(/<html[^>]+>/gi);if(w&&w.length&&(w=w[0].match(u),w.length&&(w.shift(),w.forEach(M=>{let k=M.trim().split("=");k.length===1?v.documentElement.setAttribute(k[0],"true"):v.documentElement.setAttribute(k[0],k[1].slice(1,-1))}))),v.documentElement.innerHTML=r,document.activeElement&&function(M,k,S){for(let N of k){let q=M.querySelectorAll(N);for(let _=0;_<q.length;_++)if(q[_].contains(S))return!0}return!1}(document,this.options.selectors,document.activeElement))try{document.activeElement.blur()}catch{}this.switchSelectors(this.options.selectors,v,document,n)}loadUrl(r,n){n=typeof n=="object"?{...this.options,...n}:{...this.options},this.abortRequest(this.request),f(document,"pjax:send",n),this.request=this.doRequest(r,n,this.handleResponse.bind(this))}afterAllSwitches(){var r,n,v;this.options.selectors.forEach(w=>{a(document.querySelectorAll(w),M=>{(function(k){k.tagName.toLowerCase()==="script"&&d(k),a(k.querySelectorAll("script"),S=>{let N=S;N.type&&N.type.toLowerCase()!=="text/javascript"||(N.parentNode&&N.parentNode.removeChild(N),d(N))})})(M)})});let u=this.state;if(!((r=u.options)===null||r===void 0)&&r.history&&(window.history.state||(this.lastUid=this.maxUid=y(),window.history.replaceState({url:window.location.href,title:document.title,uid:this.maxUid,scrollPos:[0,0]},document.title)),this.lastUid=this.maxUid=y(),window.history.pushState({url:u.href,title:u.options.title,uid:this.maxUid,scrollPos:[0,0]},u.options.title,u.href)),this.forEachSelectors(w=>{this.parseDOM(w)},this),f(document,"pjax:complete pjax:success",u.options),(n=u.options)===null||n===void 0?void 0:n.history){let w=document.createElement("a");if(w.href=this.state.href,w.hash){let M=w.hash.slice(1);M=decodeURIComponent(M);let k=0,S=document.getElementById(M)||document.getElementsByName(M)[0];if(S&&S.offsetParent)do k+=S.offsetTop,S=S.offsetParent;while(S);window.scrollTo(0,k)}else u.options.scrollTo!==!1&&(Array.isArray(u.options.scrollTo)?window.scrollTo(u.options.scrollTo[0],u.options.scrollTo[1]):window.scrollTo(0,u.options.scrollTo))}else!((v=u.options)===null||v===void 0)&&v.scrollRestoration&&u.options.scrollPos&&window.scrollTo(u.options.scrollPos[0],u.options.scrollPos[1]);this.state={numPendingSwitches:0,href:null,options:null}}abortRequest(r){r&&r.readyState<4&&(r.onreadystatechange=()=>{},r.abort())}}return h.prototype.attachLink=function(c){c.setAttribute(L,""),o(c,"click",r=>O.call(this,c,r)),o(c,"keyup",r=>{let n=r;n.keyCode===13&&O.call(this,c,n)})},h.prototype.doRequest=function(c,r={},n){let v=r.requestOptions||{},u=(v.requestMethod||"GET").toUpperCase(),w=v.requestParams||null,M=null,k=new XMLHttpRequest,S=r.timeout;if(k.onreadystatechange=()=>{k.readyState===4&&(k.status===200?n(k.responseText,k,c,r):k.status!==0&&n(null,k,c,r))},k.onerror=N=>{console.error(N),n(null,k,c,r)},k.ontimeout=()=>{n(null,k,c,r)},w&&w.length){let N=w.map(q=>q.name+"="+q.value).join("&");switch(u){case"GET":c=c.split("?")[0],c+="?"+N;break;case"POST":M=N}}return r.cacheBust&&(c=function(N,q,_){let W=new RegExp("([?&])"+q+"=.*?(&|$)","i"),X=N.indexOf("?")!==-1?"&":"?";return N.match(W)?N.replace(W,"$1"+q+"="+_+"$2"):N+X+q+"="+_}(c,"t",Date.now())),k.open(u,c,!0),k.timeout=S,k.setRequestHeader("X-Requested-With","XMLHttpRequest"),k.setRequestHeader("X-PJAX","true"),k.setRequestHeader("X-PJAX-Selectors",JSON.stringify(r.selectors)),k.send(M),k},h.prototype.handleResponse=function(c,r,n,v){if((v={...v||this.options}).request=r,c===!1)return void f(document,"pjax:complete pjax:error",v);let u=window.history.state||{};window.history.replaceState({url:u.url||window.location.href,title:u.title||document.title,uid:u.uid||y(),scrollPos:[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop]},document.title,window.location.href);let w=n;r.responseURL?n!==r.responseURL&&(n=r.responseURL):r.getResponseHeader("X-PJAX-URL")?n=r.getResponseHeader("X-PJAX-URL"):r.getResponseHeader("X-XHR-Redirected-To")&&(n=r.getResponseHeader("X-XHR-Redirected-To"));let M=document.createElement("a");M.href=w;let k=M.hash;M.href=n,k&&!M.hash&&(M.hash=k,n=M.href),this.state.href=n,this.state.options=v;try{this.loadContent(c,v)}catch(S){return f(document,"pjax:error",v),console.error("Pjax switch fail: ",S),this.latestChance(n)}},h.switches={innerHTML:function(c,r){c.innerHTML=r.innerHTML,r.className===""?c.removeAttribute("class"):c.className=r.className,this.onSwitch()},outerHTML:b},h})}),Et=()=>x("main > .inner").offsetHeight,x=(e,t=document)=>e[0]==="#"?t.getElementById(e.substring(1)):t.querySelector(e);x.all=(e,t=document)=>t.querySelectorAll(e),x.each=(e,t,a)=>{x.all(e,a).forEach(t)},x.asyncify=async(e,t=document)=>e[0]==="#"?t.getElementById(e.substring(1)):t.querySelector(e),x.asyncifyEach=(e,t,a)=>{x.all(e,a).forEach(t)};function Ct(){Object.assign(HTMLElement.prototype,{createChild(e,t,a){let s=document.createElement(e);switch(Object.assign(s,t),a){case"after":this.insertAfter(s);break;case"replace":this.innerHTML="",this.appendChild(s);break;default:this.appendChild(s)}return s},wrapObject(e){let t=document.createElement("div");Object.assign(t,e),this.parentNode.insertBefore(t,this),this.parentNode.removeChild(this),t.appendChild(this)},changeOrGetHeight(e){return e&&(this.style.height=typeof e=="number"?e+"rem":e),this.getBoundingClientRect().height},changeOrGetWidth(e){return e&&(this.style.width=typeof e=="number"?e+"rem":e),this.getBoundingClientRect().width},getTop(){return this.getBoundingClientRect().top},left(){return this.getBoundingClientRect().left},attr(e,t){return t===null?this.removeAttribute(e):t?(this.setAttribute(e,t),this):this.getAttribute(e)},insertAfter(e){let t=this.parentNode;t.lastChild===this?t.appendChild(e):t.insertBefore(e,this.nextSibling)},display(e){return e==null?this.style.display:(this.style.display=e,this)},child(e){return x(e,this)},find(e){return x.all(e,this)},_class(e,t,a){(t.indexOf(" ")?t.split(" "):[t]).forEach(s=>{e==="toggle"?this.classList.toggle(s,a):this.classList[e](s)})},addClass(e){return this._class("add",e),this},removeClass(e){return this._class("remove",e),this},toggleClass(e,t){return this._class("toggle",e,t),this},hasClass(e){return this.classList.contains(e)}})}Ct();var Re=CONFIG.statics.indexOf("//")>0?CONFIG.statics:CONFIG.root,ne={x:0,y:0},ce=0,re,Be,te=document.getElementsByTagName("body")[0],Le=document.documentElement,xt=x("#container"),de=x("#loading"),Z=x("#nav"),De=x("#header"),he=Z.child(".toggle"),_e=x("#quick"),$=x("#sidebar"),Lt=x("#brand"),ae=x("#tool"),ue,pe,me,fe,ie=x("#search"),Ue,ke,We,kt=window.innerHeight,ze=window.innerWidth,Te=0,ge=window.location.href,$e;function Tt(e){Ue=e}function At(e){ke=e}function Mt(e){We=e}function Ot(e){kt=e}function Nt(e){ze=e}function jt(e){ce=e}function St(e){Be=e}function Ae(e){Te=e}function Pt(e){ge=e}function Ht(e){$e=e}function qt(e){re=e}function It(e){ue=e}function Rt(e){pe=e}function Bt(e){me=e}function Dt(e){fe=e}function _t(e){ae=e}function Ut(e){ie=e}var Ge=xe(vt()),Q=(e,t,a,s)=>{let o,f="none";switch(t){case 0:o={opacity:[1,0]};break;case 1:o={opacity:[0,1]},f="block";break;case"bounceUpIn":o={begin(d){e.display("block")},translateY:[{value:-60,duration:200},{value:10,duration:200},{value:-5,duration:200},{value:0,duration:200}],opacity:[0,1]},f="block";break;case"shrinkIn":o={begin(d){e.display("block")},scale:[{value:1.1,duration:300},{value:1,duration:200}],opacity:1},f="block";break;case"slideRightIn":o={begin(d){e.display("block")},translateX:["100%","0%"],opacity:[0,1]},f="block";break;case"slideRightOut":o={translateX:["0%","100%"],opacity:[1,0]};break;default:o=t,f=t.display;break}(0,Ge.default)(Object.assign({targets:e,duration:200,easing:"linear",begin(){s&&s()},complete(){e.display(f),a&&a()}},o)).play()},Y=(e,t,a)=>{(0,Ge.default)({targets:typeof t=="number"&&typeof e!="number"?e.parentNode:document.scrollingElement,duration:500,easing:"easeInOutQuad",scrollTop:t||(typeof e=="number"?e:e?e.getTop()+document.documentElement.scrollTop-Ue:0),complete(){a&&a()}}).play()},F={set(e,t){localStorage.setItem(e,t)},get(e){return localStorage.getItem(e)},del(e){localStorage.removeItem(e)}},Me=e=>{if(!e)return;let t=te.createChild("div",{innerHTML:e,className:"tip"});setTimeout(()=>{t.addClass("hide"),setTimeout(()=>{te.removeChild(t)},300)},3e3)},Fe=()=>{CONFIG.auto_scroll&&F.set(ge,String(ne.y))},Wt=e=>{let t=window.location.hash,a=null;if(Te){F.del(ge);return}t?a=x(decodeURI(t)):a=CONFIG.auto_scroll?parseInt(F.get(ge)):0,a&&(Y(a),Ae(1)),e&&t&&!Te&&(Y(a),Ae(1))},Xe=(e,t)=>{navigator.clipboard&&window.isSecureContext?navigator.clipboard.writeText(e).then(()=>{t&&t(!0)},()=>{t&&t(!1)}):(console.error("Too old browser, clipborad API not supported."),t&&t(!1))},ye=(e,t)=>{$.hasClass("on")?($.removeClass("on"),he.removeClass("close"),t?$.style="":Q($,"slideRightOut")):t?$.style="":Q($,"slideRightIn",()=>{$.addClass("on"),he.addClass("close")})},zt=()=>{let e=$.child(".inner");$.child(".tab")&&e.removeChild($.child(".tab"));let t=document.createElement("ul"),a="active";t.className="tab",["contents","related","overview"].forEach(s=>{let o=$.child(".panel."+s);if(o.innerHTML.trim().length<1){s==="contents"&&fe.display("none");return}s==="contents"&&fe.display("");let f=document.createElement("li"),d=document.createElement("span"),l=document.createTextNode(o.attr("data-title"));d.appendChild(l),f.appendChild(d),f.addClass(s+" item"),a?(o.addClass(a),f.addClass(a)):o.removeClass("active"),f.addEventListener("click",y=>{let b=y.currentTarget;b.hasClass("active")||($.find(".tab .item").forEach(p=>{p.removeClass("active")}),$.find(".panel").forEach(p=>{p.removeClass("active")}),$.child(".panel."+b.className.replace(" item","")).addClass("active"),b.addClass("active"))}),t.appendChild(f),a=""}),t.childNodes.length>1?(e.insertBefore(t,e.childNodes[0]),$.child(".panels").style.paddingTop=""):$.child(".panels").style.paddingTop=".625rem"},$t=()=>{let e=d=>{let l=t[d];if(!l||l.hasClass("current"))return;x.each(".toc .active",b=>{b&&b.removeClass("active current")}),a.forEach(b=>{b&&b.removeClass("active")}),l.addClass("active current"),a[d]&&a[d].addClass("active");let y=l.parentNode;for(;!y.matches(".contents");){if(y.matches("li")){y.addClass("active");let b=x(y.child("a.toc-link").attr("href"));b&&b.addClass("active")}y=y.parentNode}getComputedStyle($).display!=="none"&&o.hasClass("active")&&Y(o,l.offsetTop-o.offsetHeight/4)},t=x.all(".contents li");if(t.length<1)return;let a=[...t],s=null;a=a.map((d,l)=>{let y=d.child("a.toc-link"),b=x(decodeURI(y.attr("href")));if(!b)return null;let p=b.child("a.anchor"),L=O=>{O.preventDefault();let i=x(decodeURI(O.currentTarget.attr("href")));s=l,Y(i,null,()=>{e(l),s=null})};return y.addEventListener("click",L),p&&p.addEventListener("click",O=>{L(O),Xe(CONFIG.hostname+"/"+LOCAL.path+O.currentTarget.attr("href"))}),b});let o=$.child(".contents.panel"),f=d=>{let l=0,y=d[l];if(y.boundingClientRect.top>0)return l=a.indexOf(y.target),l===0?0:l-1;for(;l<d.length;l++)if(d[l].boundingClientRect.top<=0)y=d[l];else return a.indexOf(y.target);return a.indexOf(y.target)};(()=>{let d=new IntersectionObserver(l=>{let y=f(l)+(ce<0?1:0);s===null&&e(y)},{rootMargin:"0px 0px -100% 0px",threshold:0});a.forEach(l=>{l&&d.observe(l)})})()},Ye=()=>{Y(0)},Gt=()=>{Y(parseInt(String(xt.changeOrGetHeight())))},Ft=()=>{Y(x("#comments"))},Xt=()=>{x.each(".menu .item:not(.title)",e=>{let t=e.child("a[href]"),a=e.parentNode.parentNode;if(!t)return;let s=t.pathname===location.pathname||t.pathname===location.pathname.replace("index.html",""),o=!CONFIG.root.startsWith(t.pathname)&&location.pathname.startsWith(t.pathname),f=t.hostname===location.hostname&&(s||o);e.toggleClass("active",f),e.parentNode.child(".active")&&a.hasClass("dropdown")?a.removeClass("active").addClass("expand"):a.removeClass("expand")})},se={timer:void 0,lock:!1,show(){clearTimeout(this.timer),document.body.removeClass("loaded"),de.attr("style","display:block"),se.lock=!1},hide(e){CONFIG.loader.start||(e=-1),this.timer=setTimeout(this.vanish,e||3e3)},vanish(){se.lock||(CONFIG.loader.start&&Q(de,0),document.body.addClass("loaded"),se.lock=!0)}},Yt=()=>{let e;if(CONFIG.outime.enable&&LOCAL.outime){let t=document.getElementsByTagName("time");if(t.length===0)return;let a=document.getElementsByClassName("body md");if(a.length===0)return;let s=Date.now(),o=new Date(t[0].dateTime);t.length===1?e=o:e=new Date(t[1].dateTime);let f=parseInt(String(s-e)),d=parseInt(String(CONFIG.outime.days))||30;if(f>d*864e5){let l=parseInt(String((s-o)/864e5)),y=parseInt(String(f/864e5)),b=LOCAL.template.replace("{{publish}}",String(l)).replace("{{updated}}",String(y));a[0].insertAdjacentHTML("afterbegin",b)}}},Qe=()=>{let e;x.each("div.tab",t=>{if(t.attr("data-ready"))return;let a=t.attr("data-id"),s=t.attr("data-title"),o=x("#"+a);o?e=!1:(o=document.createElement("div"),o.className="tabs",o.id=a,o.innerHTML='<div class="show-btn"></div>',o.child(".show-btn").addEventListener("click",()=>{Y(o)}),t.parentNode.insertBefore(o,t),e=!0);let f=o.child(".nav ul");f||(f=o.createChild("div",{className:"nav",innerHTML:"<ul></ul>"}).child("ul"));let d=f.createChild("li",{innerHTML:s});e&&(d.addClass("active"),t.addClass("active")),d.addEventListener("click",l=>{let y=l.currentTarget;o.find(".active").forEach(b=>{b.removeClass("active")}),t.addClass("active"),y.addClass("active")}),o.appendChild(t),t.attr("data-ready",String(!0))})},ve=null,Oe=/mobile/i.test(window.navigator.userAgent),Ne=(e,t)=>{let a={el:{},create(){e.player.options.btns&&e.player.options.btns.forEach(i=>{a.el[i]||(a.el[i]=e.createChild("div",{className:i+" btn",onclick(m){e.player.fetch().then(()=>{e.player.options.events[i](m)})}}))})}},s={el:null,btns:{mode:void 0,volume:void 0},step:"next",create:()=>{if(!e.player.options.controls)return;let i=s;e.player.options.controls.forEach(m=>{if(i.btns[m])return;let h={onclick(c){i.events[m]?i.events[m](c):e.player.options.events[m](c)}};switch(m){case"volume":h.className=" "+(d.muted?"off":"on"),h.innerHTML='<div class="bar"></div>',h["on"+p.nameMap.dragStart]=i.events.volume,h.onclick=null;break;case"mode":h.className=" "+e.player.options.mode;break;default:h.className="";break}h.className=m+h.className+" btn",i.btns[m]=i.el.createChild("div",h)}),i.btns.volume.bar=i.btns.volume.child(".bar")},events:{mode(i){switch(e.player.options.mode){case"loop":e.player.options.mode="random";break;case"random":e.player.options.mode="order";break;default:e.player.options.mode="loop"}s.btns.mode.className="mode "+e.player.options.mode+" btn",F.set("_PlayerMode",e.player.options.mode)},volume(i){i.preventDefault();let m=i.currentTarget,h=!1,c=n=>{n.preventDefault(),e.player.volume(s.percent(n,m)),h=!0},r=n=>{n.preventDefault(),m.removeEventListener(p.nameMap.dragEnd,r),m.removeEventListener(p.nameMap.dragMove,c),h?(e.player.muted(),e.player.volume(s.percent(n,m))):d.muted?(e.player.muted(),e.player.volume(d.volume)):(e.player.muted("muted"),s.update(0))};m.addEventListener(p.nameMap.dragMove,c),m.addEventListener(p.nameMap.dragEnd,r)},backward(i){s.step="prev",e.player.mode()},forward(i){s.step="next",e.player.mode()}},update(i){s.btns.volume.className="volume "+(!d.muted&&i>0?"on":"off")+" btn",s.btns.volume.bar.changeOrGetWidth(Math.floor(i*100)+"%")},percent(i,m){let h=((i.clientX||i.changedTouches[0].clientX)-m.left())/m.changeOrGetWidth();return h=Math.max(h,0),Math.min(h,1)}},o={el:null,bar:null,create(){let i=l.current().el;i&&(o.el&&(o.el.parentNode.removeClass("current").removeEventListener(p.nameMap.dragStart,o.drag),o.el.remove()),o.el=i.createChild("div",{className:"progress"}),o.el.attr("data-dtime",p.secondToTime(0)),o.bar=o.el.createChild("div",{className:"bar"}),i.addClass("current"),i.addEventListener(p.nameMap.dragStart,o.drag),l.scroll())},update(i){o.bar.changeOrGetWidth(Math.floor(i*100)+"%"),o.el.attr("data-ptime",p.secondToTime(i*d.duration))},seeking(i){i?o.el.addClass("seeking"):o.el.removeClass("seeking")},percent(i,m){let h=((i.clientX||i.changedTouches[0].clientX)-m.left())/m.changeOrGetWidth();return h=Math.max(h,0),Math.min(h,1)},drag(i){i.preventDefault();let m=l.current().el,h=r=>{r.preventDefault();let n=o.percent(r,m);o.update(n),L.update(n*d.duration)},c=r=>{r.preventDefault(),m.removeEventListener(p.nameMap.dragEnd,c),m.removeEventListener(p.nameMap.dragMove,h);let n=o.percent(r,m);o.update(n),e.player.seek(n*d.duration),d.disableTimeupdate=!1,o.seeking(!1)};d.disableTimeupdate=!0,o.seeking(!0),m.addEventListener(p.nameMap.dragMove,h),m.addEventListener(p.nameMap.dragEnd,c)}},f={el:null,create(){let i=l.current();f.el.innerHTML='<div class="cover"><div class="disc"><img src="'+i.cover+'" class="blur"  alt="music cover"/></div></div><div class="info"><h4 class="title">'+i.name+"</h4><span>"+i.artist+'</span><div class="lrc"></div></div>',f.el.child(".cover").addEventListener("click",e.player.options.events["play-pause"]),L.create(f.el.child(".lrc"))}},d,l={el:null,data:[],index:-1,errnum:0,add:(i,m)=>{m.forEach(h=>{h.group=i,h.name=h.name||h.title||"Meida name",h.artist=h.artist||h.author||"Anonymous",h.cover=h.cover||h.pic,h.type=h.type||"normal",l.data.push(h)})},clear(){l.data=[],l.el.innerHTML="",l.index!==-1&&(l.index=-1,e.player.fetch())},create(){let i=l.el;l.data.map((m,h)=>{if(m.el)return null;let c="list-"+e.player._id+"-"+m.group,r=x("#"+c);return r||(r=i.createChild("div",{id:c,className:e.player.group?"tab":"",innerHTML:"<ol></ol>"}),e.player.group&&r.attr("data-title",e.player.options.rawList[m.group].title).attr("data-id",e.player._id)),m.el=r.child("ol").createChild("li",{title:m.name+" - "+m.artist,innerHTML:'<span class="info"><span>'+m.name+"</span><span>"+m.artist+"</span></span>",onclick(n){let v=n.currentTarget;if(l.index===h&&o.el){d.paused?e.player.play():e.player.seek(d.duration*o.percent(n,v));return}e.player.switch(h),e.player.play()}}),m}),Qe()},current(){return this.data[this.index]},scroll(){let i=this.current(),m=this.el.child("li.active");m&&m.removeClass("active");let h=this.el.child(".tab.active");return h&&h.removeClass("active"),m=this.el.find(".nav li")[i.group],m&&m.addClass("active"),h=this.el.find(".tab")[i.group],h&&h.addClass("active"),Y(i.el,i.el.offsetTop),this},title(){if(d.paused)return;let i=this.current();document.title="Now Playing..."+i.name+" - "+i.artist+" | "+re},error(){let i=this.current();i.el.removeClass("current").addClass("error"),i.error=!0,this.errnum++}},y={el:null,create(){this.el||(this.el=e.createChild("div",{className:"player-info",innerHTML:(e.player.options.type==="audio"?'<div class="preview"></div>':"")+'<div class="controller"></div><div class="playlist"></div>'},"after"),f.el=this.el.child(".preview"),l.el=this.el.child(".playlist"),s.el=this.el.child(".controller"))},hide(){let i=this.el;i.addClass("hide"),window.setTimeout(()=>{i.removeClass("show hide")},300)}},b={type:"audio",mode:"random",btns:["play-pause","music"],controls:["mode","backward","play-pause","forward","volume"],events:{"play-pause"(i){d.paused?e.player.play():e.player.pause()},music(i){y.el.hasClass("show")?y.hide():(y.el.addClass("show"),l.scroll().title())}}},p={random(i){return Math.floor(Math.random()*i)},parse(i){let m=[];return[["music.163.com.*song.*id=(\\d+)","netease","song"],["music.163.com.*album.*id=(\\d+)","netease","album"],["music.163.com.*artist.*id=(\\d+)","netease","artist"],["music.163.com.*playlist.*id=(\\d+)","netease","playlist"],["music.163.com.*discover/toplist.*id=(\\d+)","netease","playlist"],["y.qq.com.*song/(\\w+)(.html)?","tencent","song"],["y.qq.com.*album/(\\w+)(.html)?","tencent","album"],["y.qq.com.*singer/(\\w+)(.html)?","tencent","artist"],["y.qq.com.*playsquare/(\\w+)(.html)?","tencent","playlist"],["y.qq.com.*playlist/(\\w+)(.html)?","tencent","playlist"],["xiami.com.*song/(\\w+)","xiami","song"],["xiami.com.*album/(\\w+)","xiami","album"],["xiami.com.*artist/(\\w+)","xiami","artist"],["xiami.com.*collect/(\\w+)","xiami","playlist"]].forEach(h=>{let c=new RegExp(h[0]).exec(i);c!==null&&(m=[h[1],h[2],c[1]])}),m},fetch(i){let m=[];return new Promise((h,c)=>{i.forEach(r=>{let n=p.parse(r);if(n[0]){let v=JSON.stringify(n),u=F.get(v);u?(m.push(...JSON.parse(u)),h(m)):fetch(`${CONFIG.playerAPI}/meting/?server=`+n[0]+"&type="+n[1]+"&id="+n[2]+"&r="+Math.random()).then(w=>w.json()).then(w=>{F.set(v,JSON.stringify(w)),m.push(...w),h(m)}).catch(w=>{})}else m.push(r),h(m)})})},secondToTime(i){let m=n=>isNaN(n)?"00":n<10?"0"+n:""+n,h=Math.floor(i/3600),c=Math.floor((i-h*3600)/60),r=Math.floor(i-h*3600-c*60);return(h>0?[h,c,r]:[c,r]).map(m).join(":")},nameMap:{dragStart:Oe?"touchstart":"mousedown",dragMove:Oe?"touchmove":"mousemove",dragEnd:Oe?"touchend":"mouseup"}};d=null,e.player={_id:p.random(999999),group:!0,load(i){let m="";i&&i.length>0?this.options.rawList!==i&&(this.options.rawList=i,l.clear(),this.fetch()):(m="none",this.pause());for(let h in a.el)a.el[h].display(m);return this},fetch(){return new Promise((i,m)=>{if(l.data.length>0)i(!0);else if(this.options.rawList){let h=[];this.options.rawList.forEach((c,r)=>{h.push(new Promise((n,v)=>{let u=r,w;c.list?(this.group=!0,w=c.list):(u=0,this.group=!1,w=[c]),p.fetch(w).then(M=>{l.add(u,M),n(0)})}))}),Promise.all(h).then(()=>{i(!0)})}}).then(i=>{i&&(l.create(),s.create(),this.mode())})},mode(){let i=l.data.length;if(!i||l.errnum===i)return;let m=s.step==="next"?1:-1,h=()=>{let r=l.index+m;(r>i||r<0)&&(r=s.step==="next"?0:i-1),l.index=r},c=()=>{let r=p.random(i);l.index!==r?l.index=r:h()};switch(this.options.mode){case"random":c();break;case"order":h();break;case"loop":s.step&&h(),l.index===-1&&c();break}this.init()},switch(i){typeof i=="number"&&i!==l.index&&l.current()&&!l.current().error&&(l.index=i,this.init())},init(){let i=l.current();if(!i||i.error){this.mode();return}let m=!1;d.paused||(m=!0,this.stop()),d.attr("src",i.url),d.attr("title",i.name+" - "+i.artist),this.volume(F.get("_PlayerVolume")||"0.7"),this.muted(F.get("_PlayerMuted")),o.create(),this.options.type==="audio"&&f.create(),m===!0&&this.play()},play(){if(ve&&ve.player.pause(),l.current().error){this.mode();return}d.play().then(()=>{l.scroll()}).catch(i=>{})},pause(){d.pause(),document.title=re},stop(){d.pause(),d.currentTime=0,document.title=re},seek(i){i=Math.max(i,0),i=Math.min(i,d.duration),d.currentTime=i,o.update(i/d.duration)},muted(i){i==="muted"?(d.muted=i,F.set("_PlayerMuted",i),s.update(0)):(F.del("_PlayerMuted"),d.muted=!1,s.update(d.volume))},volume(i){isNaN(i)||(s.update(i),F.set("_PlayerVolume",i),d.volume=i)},mini(){y.hide()}};let L={el:null,data:null,index:0,create(i){let m=l.index,h=l.current().lrc,c=r=>{if(m!==l.index)return;this.data=this.parse(r);let n="";this.data.forEach((v,u)=>{n+="<p"+(u===0?' class="current"':"")+">"+v[1]+"</p>"}),this.el=i.createChild("div",{className:"inner",innerHTML:n},"replace"),this.index=0};h.startsWith("http")?this.fetch(h,c):c(h)},update(i){if(this.data&&(this.index>this.data.length-1||i<this.data[this.index][0]||!this.data[this.index+1]||i>=this.data[this.index+1][0])){for(let m=0;m<this.data.length;m++)if(i>=this.data[m][0]&&(!this.data[m+1]||i<this.data[m+1][0])){this.index=m;let h=-(this.index-1);this.el.style.transform="translateY("+h+"rem)",this.el.getElementsByClassName("current")[0].removeClass("current"),this.el.getElementsByTagName("p")[m].addClass("current")}}},parse(i){if(i){i=i.replace(/([^\]^\n])\[/g,(r,n)=>n+`
[`);let m=i.split(`
`),h=[],c=m.length;for(let r=0;r<c;r++){let n=m[r].match(/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g),v=m[r].replace(/.*\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g,"").replace(/<(\d{2}):(\d{2})(\.(\d{2,3}))?>/g,"").trim();if(n){let u=n.length;for(let w=0;w<u;w++){let M=/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/.exec(n[w]),k=M[1]*60,S=parseInt(M[2]),N=M[4]?parseInt(M[4])/((M[4]+"").length===2?100:1e3):0,q=k+S+N;h.push([q,v])}}}return h=h.filter(r=>r[1]),h.sort((r,n)=>r[0]-n[0]),h}else return[]},fetch(i,m){fetch(i).then(h=>h.text()).then(h=>{m(h)}).catch(h=>{})}},O={onerror(){l.error(),e.player.mode()},ondurationchange(){d.duration!==1&&o.el.attr("data-dtime",p.secondToTime(d.duration))},onloadedmetadata(){e.player.seek(0),o.el.attr("data-dtime",p.secondToTime(d.duration))},onplay(){e.parentNode.addClass("playing"),Me(this.attr("title")),ve=e},onpause(){e.parentNode.removeClass("playing"),ve=null},ontimeupdate(){this.disableTimeupdate||(o.update(this.currentTime/this.duration),L.update(this.currentTime))},onended(i){e.player.mode(),e.player.play()}};return(i=>{e.player.created||(e.player.options=Object.assign(b,i),e.player.options.mode=F.get("_PlayerMode")||e.player.options.mode,a.create(),d=e.createChild(e.player.options.type,O),y.create(),e.parentNode.addClass(e.player.options.type),e.player.created=!0)})(t),e};function Qt(){x.each(".overview .menu > .item",e=>{Z.child(".menu").appendChild(e.cloneNode(!0))}),de.addEventListener("click",se.vanish),he.addEventListener("click",ye),x(".dimmer").addEventListener("click",ye),_e.child(".down").addEventListener("click",Gt),_e.child(".up").addEventListener("click",Ye),ae||_t(De.createChild("div",{id:"tool",innerHTML:'<div class="item player"></div><div class="item contents"><i class="ic i-list-ol"></i></div><div class="item chat"><i class="ic i-comments"></i></div><div class="item back-to-top"><i class="ic i-arrow-up"></i><span>0%</span></div>'})),It(ae.child(".player")),Rt(ae.child(".back-to-top")),Bt(ae.child(".chat")),Dt(ae.child(".contents")),pe.addEventListener("click",Ye),me.addEventListener("click",Ft),fe.addEventListener("click",ye),typeof Ne<"u"&&!CONFIG.noPlayer&&x("main").addEventListener("click",()=>{ue.player.mini()}),new IntersectionObserver(([e])=>{e.isIntersecting?(document.querySelectorAll(".parallax>use").forEach(t=>{t.classList.remove("stop-animation")}),document.querySelectorAll("#imgs .item").forEach(t=>{t.classList.remove("stop-animation")})):(document.querySelectorAll(".parallax>use").forEach(t=>{t.classList.add("stop-animation")}),document.querySelectorAll("#imgs .item").forEach(t=>{t.classList.add("stop-animation")}))},{root:null,threshold:.2}).observe(document.getElementById("waves")),new IntersectionObserver(([e])=>{e.isIntersecting?document.querySelectorAll(".with-love>i").forEach(t=>{t.classList.remove("stop-animation")}):document.querySelectorAll(".with-love>i").forEach(t=>{t.classList.add("stop-animation")})},{root:null,threshold:.2}).observe(document.querySelector(".with-love"))}var Jt=()=>{if(!x(".index.wrap"))return;let e=new IntersectionObserver(t=>{t.forEach(a=>{a.target.hasClass("show")?e.unobserve(a.target):(a.isIntersecting||a.intersectionRatio>0)&&(a.target.addClass("show"),e.unobserve(a.target))})},{root:null,threshold:[.3]});x.each(".index.wrap article.item, .index.wrap section.item",t=>{e.observe(t)}),x(".index.wrap .item:first-child").addClass("show"),x.each(".cards .item",t=>{["mouseenter","touchstart"].forEach(a=>{t.addEventListener(a,()=>{x(".cards .item.active")&&x(".cards .item.active").removeClass("active"),t.addClass("active")},{passive:!0})}),["mouseleave"].forEach(a=>{t.addEventListener(a,()=>{t.removeClass("active")},{passive:!0})})})};function Vt(){let e=x("#comments");if(e)me.display("");else{me.display("none");return}new IntersectionObserver((t,a)=>{let s=t[0];(s.isIntersecting||s.intersectionRatio>0)&&(Q(x("#comments"),"bounceUpIn"),a.disconnect())}).observe(e)}function Kt(){let e=!0;window.addEventListener("DOMContentLoaded",function(){e=!1}),document.readyState==="loading"&&window.addEventListener("load",function(){e&&(window.dispatchEvent(new Event("DOMContentLoaded")),console.log("%c \u2601\uFE0Fcloudflare patch %c running(rocket & minify)","color: white; background: #ff8c00; padding: 5px 3px;","padding: 4px;border:1px solid #ff8c00"))})}var Zt=(e,t,a)=>{if(a)t();else{let s=document.createElement("script");s.onload=function(o,f){(f||!s.readyState)&&(console.log("abort!"),s.onload=null,s=void 0,!f&&t&&setTimeout(t,0))},s.src=e,document.head.appendChild(s)}},ea=e=>{let{text:t,parentNode:a,id:s,className:o,type:f,src:d,dataset:l}=e,y=t||e.textContent||e.innerHTML||"";a.removeChild(e);let b=document.createElement("script");s&&(b.id=s),o&&(b.className=o),f&&(b.type=f),d&&(b.src=d,b.async=!1),l.pjax!==void 0&&(b.dataset.pjax=""),y!==""&&b.appendChild(document.createTextNode(y)),a.appendChild(b)},Je=(e,t)=>{let a=CONFIG[e][t];return a.includes("http")?a:a.includes("gh")||a.includes("combine")?`https://cdn.jsdelivr.net/${a}`:a.includes("npm")?`https://cdn.jsdelivr.net/${a}`:`/${a}`},Ve=(e,t,a)=>{LOCAL[e]&&Zt(Je("js",e),t||function(){window[e]=!0},a||window[e])},we=(e,t)=>{window["css"+e]||LOCAL[e]&&(document.head.createChild("link",{rel:"stylesheet",href:Je("css",e)}),window["css"+e]=!0)},ta=e=>{x(e+" .md img")&&(we("fancybox"),we("justifiedGallery"),Ve("fancybox",()=>{let t=jQuery.noConflict();x.each(e+" p.gallery",a=>{let s=document.createElement("div");s.className="gallery",s.attr("data-height",String(a.attr("data-height")||220)),s.innerHTML=a.innerHTML.replace(/<br>/g,""),a.parentNode.insertBefore(s,a),a.remove()}),x.each(e+" .md img:not(.emoji):not(.vemoji)",a=>{let s=t(a),o=s.attr("data-src")||s.attr("src"),f=s.wrap('<a class="fancybox" href="'+o+'" itemscope itemtype="https://schema.org/ImageObject" itemprop="url"></a>').parent("a"),d,l="image-info";if(s.is("a img")||(s.data("safe-src",o),s.is(".gallery img")?l="jg-caption":f.attr("data-fancybox","default").attr("rel","default")),d=a.attr("title")){f.attr("data-caption",d);let y=document.createElement("span"),b=document.createTextNode(d);y.appendChild(b),y.addClass(l),a.insertAfter(y)}}),x.each(e+" div.gallery",(a,s)=>{t(a).justifiedGallery({rowHeight:t(a).data("height")||120,rel:"gallery-"+s}).on("jg.complete",function(){t(this).find("a").each((o,f)=>{f.attr("data-fancybox","gallery-"+s)})})}),t.fancybox.defaults.hash=!1,t(e+" .fancybox").fancybox({loop:!0,helpers:{overlay:{locked:!1}}})},window.jQuery))},aa=()=>{if(Vt(),!x(".md"))return;ta(".post.block"),x(".post.block").oncopy=async t=>{if(Me(LOCAL.copyright),LOCAL.nocopy){t.preventDefault();return}let a=await x.asyncify("#copyright");if(window.getSelection().toString().length>30&&a){t.preventDefault();let s="# "+a.child(".author").innerText,o="# "+a.child(".link").innerText,f="# "+a.child(".license").innerText,d=s+"<br>"+o+"<br>"+f+"<br><br>"+window.getSelection().toString().replace(/\r\n/g,"<br>"),l=s+`
`+o+`
`+f+`

`+window.getSelection().toString().replace(/\r\n/g,`
`);if(t.clipboardData)t.clipboardData.setData("text/html",d),t.clipboardData.setData("text/plain",l);else if(window.clipboardData)return window.clipboardData.setData("text",l)}},x.each("li ruby",t=>{let a=t.parentNode;t.parentNode.tagName!=="LI"&&(a=t.parentNode.parentNode),a.addClass("ruby")}),x.each("ol[start]",t=>{t.style.counterReset="counter "+parseInt(t.attr("start")-1)}),x.each(".md table",t=>{t.wrapObject({className:"table-container"})}),x.each(".highlight > .table-container",t=>{t.className="code-container"}),x.each("figure.highlight",t=>{let a=t.child(".code-container"),s=t.child("figcaption");t.insertAdjacentHTML("beforeend",'<div class="operation"><span class="breakline-btn"><i class="ic i-align-left"></i></span><span class="copy-btn"><i class="ic i-clipboard"></i></span><span class="fullscreen-btn"><i class="ic i-expand"></i></span></div>');let o=t.child(".copy-btn");LOCAL.nocopy?o.remove():(o.addEventListener("click",y=>{let b=y.currentTarget,p="",L="";a.find("pre").forEach(O=>{L+=p+O.innerText,p=`
`}),Xe(L,O=>{b.child(".ic").className=O?"ic i-check":"ic i-times",b.blur(),Me(LOCAL.copyright)})},{passive:!0}),o.addEventListener("mouseleave",y=>{setTimeout(()=>{y.target.child(".ic").className="ic i-clipboard"},1e3)})),t.child(".breakline-btn").addEventListener("click",y=>{let b=y.currentTarget;t.hasClass("breakline")?(t.removeClass("breakline"),b.child(".ic").className="ic i-align-left"):(t.addClass("breakline"),b.child(".ic").className="ic i-align-justify")});let f=t.child(".fullscreen-btn"),d=()=>{t.removeClass("fullscreen"),t.scrollTop=0,te.removeClass("fullscreen"),f.child(".ic").className="ic i-expand"},l=()=>{if(t.hasClass("fullscreen")){if(d(),a&&a.find("tr").length>15){let y=a.child(".show-btn");a.style.maxHeight="300px",y.removeClass("open")}Y(t)}else if(t.addClass("fullscreen"),te.addClass("fullscreen"),f.child(".ic").className="ic i-compress",a&&a.find("tr").length>15){let y=a.child(".show-btn");a.style.maxHeight="",y.addClass("open")}};if(f.addEventListener("click",l),s&&s.addEventListener("click",l),a&&a.find("tr").length>15){a.style.maxHeight="300px",a.insertAdjacentHTML("beforeend",'<div class="show-btn"><i class="ic i-angle-down"></i></div>');let y=a.child(".show-btn"),b=()=>{a.style.maxHeight="300px",y.removeClass("open")},p=()=>{a.style.maxHeight="",y.addClass("open")};y.addEventListener("click",()=>{y.hasClass("open")?(d(),b(),Y(a)):p()})}}),x.asyncifyEach("pre.mermaid > svg",t=>{let a=t;a.style.maxWidth=""}),x.each(".reward button",t=>{t.addEventListener("click",a=>{a.preventDefault();let s=x("#qr");s.display()==="inline-flex"?Q(s,0):Q(s,1,()=>{s.display("inline-flex")})})}),x.asyncifyEach(".quiz > ul.options li",t=>{t.addEventListener("click",()=>{t.hasClass("correct")?(t.toggleClass("right"),t.parentNode.parentNode.addClass("show")):t.toggleClass("wrong")})}),x.asyncifyEach(".quiz > p",t=>{t.addEventListener("click",()=>{t.parentNode.toggleClass("show")})}),x.asyncifyEach(".quiz > p:first-child",t=>{let a=t.parentNode,s="choice";(a.hasClass("true")||a.hasClass("false"))&&(s="true_false"),a.hasClass("multi")&&(s="multiple"),a.hasClass("fill")&&(s="gap_fill"),a.hasClass("essay")&&(s="essay"),t.attr("data-type",LOCAL.quiz[s])}),x.asyncifyEach(".quiz .mistake",t=>{t.attr("data-type",LOCAL.quiz.mistake)}),x.each("div.tags a",t=>{t.className=["primary","success","info","warning","danger"][Math.floor(Math.random()*5)]}),x.asyncifyEach(".md div.player",t=>{Ne(t,{type:t.attr("data-type"),mode:"order",btns:[]}).player.load(JSON.parse(t.attr("data-src"))).fetch()});let e=document.querySelectorAll(".show-btn .i-angle-down");if(e.length){let t=new IntersectionObserver(a=>{a.forEach(s=>{s.isIntersecting?e.forEach(o=>{o.classList.remove("stop-animation")}):e.forEach(o=>{o.classList.add("stop-animation")})})},{root:null,threshold:.5});e.forEach(a=>{t.observe(a)})}},ee=e=>{let t=x(".theme .ic");e==="dark"?(Le.attr("data-theme",e),t.removeClass("i-sun"),t.addClass("i-moon")):(Le.attr("data-theme",null),t.removeClass("i-moon"),t.addClass("i-sun"))},sa=()=>{CONFIG.auto_dark.enable&&(new Date().getHours()>=CONFIG.auto_dark.start||new Date().getHours()<=CONFIG.auto_dark.end?ee("dark"):ee())},Ke=e=>{Le.attr("data-theme")==="dark"&&(e="#222"),x('meta[name="theme-color"]').attr("content",e)},ia=()=>{window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{t.matches?ee("dark"):ee()});let e=F.get("theme");e?ee(e):CONFIG.darkmode&&ee("dark")},Ze=()=>{Tt(Z.changeOrGetHeight()),At(De.changeOrGetHeight()),Mt(ke+x("#waves").changeOrGetHeight()),ze!==window.innerWidth&&ye(null,1),Ot(window.innerHeight),Nt(window.innerWidth)},na=()=>{let e=window.innerHeight,t=Et(),a=t>e?t-e:document.body.scrollHeight-e,s=window.scrollY>ke,o=window.scrollY>0;Ke(s?"#FFF":"#222"),Z.toggleClass("show",s),ae.toggleClass("affix",o),Lt.toggleClass("affix",o),$.toggleClass("affix",window.scrollY>We&&document.body.offsetWidth>991),typeof ne.y>"u"&&(ne.y=window.scrollY),jt(ne.y-window.scrollY),ce<0?(Z.removeClass("up"),Z.toggleClass("down",s)):ce>0&&(Z.removeClass("down"),Z.toggleClass("up",s)),ne.y=window.scrollY;let f=Math.round(Math.min(100*window.scrollY/a,100))+"%";pe.child("span").innerText!==f&&(pe.child("span").innerText=f),(x("#sidebar").hasClass("affix")||x("#sidebar").hasClass("on"))&&x(".percent").changeOrGetWidth(f)},ra=()=>{let e=x('[rel="icon"]');document.addEventListener("visibilitychange",()=>{switch(document.visibilityState){case"hidden":e.attr("href",Re+CONFIG.favicon.hidden),document.title=LOCAL.favicon.hide,CONFIG.loader.switch&&se.show(),clearTimeout(Be);break;case"visible":e.attr("href",Re+CONFIG.favicon.normal),document.title=LOCAL.favicon.show,CONFIG.loader.switch&&se.hide(1e3),St(setTimeout(()=>{document.title=re},2e3));break}})},la=()=>{Fe(),$.hasClass("on")&&Q($,0,()=>{$.removeClass("on"),he.removeClass("close")});let e=x("#main");e.innerHTML="",e.appendChild(de.lastChild.cloneNode(!0)),Y(0)},et=e=>{Ae(0),Pt(window.location.href),we("katex"),Ve("copy_tex"),we("mermaid"),e!==1&&x.each("script[data-pjax]",ea),qt(document.title),Ze(),Xt(),zt(),$t(),aa(),Qe(),typeof Ne<"u"&&!CONFIG.noPlayer&&ue.player.load(LOCAL.audio||CONFIG.audio||{}),se.hide(),setTimeout(()=>{Wt()},500),Jt(),Yt()};function oa(e){if(CONFIG.search===null)return;ie||Ut(te.createChild("div",{id:"search",innerHTML:'<div class="inner"><div class="header"><span class="icon"><i class="ic i-search"></i></span><div class="search-input-container"></div><span class="close-btn"><i class="ic i-times-circle"></i></span></div><div class="results"><div class="inner"><div id="search-stats"></div><div id="search-hits"></div><div id="search-pagination"></div></div></div></div>'}));let t=instantsearch({indexName:CONFIG.search.indexName,searchClient:algoliasearch(CONFIG.search.appID,CONFIG.search.apiKey),searchFunction(s){x(".search-input").value&&s.search()}});t.on("render",()=>{e.refresh(x("#search-hits"))}),t.addWidgets([instantsearch.widgets.configure({hitsPerPage:CONFIG.search.hits.per_page||10}),instantsearch.widgets.searchBox({container:".search-input-container",placeholder:LOCAL.search.placeholder,showReset:!1,showSubmit:!1,showLoadingIndicator:!1,cssClasses:{input:"search-input"}}),instantsearch.widgets.stats({container:"#search-stats",templates:{text(s){return LOCAL.search.stats.replace(/\$\{hits}/,s.nbHits).replace(/\$\{time}/,s.processingTimeMS)+'<span class="algolia-powered"></span><hr>'}}}),instantsearch.widgets.hits({container:"#search-hits",templates:{item(s){let o=s.categories?"<span>"+s.categories.join('<i class="ic i-angle-right"></i>')+"</span>":"";return'<a href="'+CONFIG.root+s.path+'">'+o+s._highlightResult.title.value+"</a>"},empty(s){return'<div id="hits-empty">'+LOCAL.search.empty.replace(/\$\{query}/,s.query)+"</div>"}},cssClasses:{item:"item"}}),instantsearch.widgets.pagination({container:"#search-pagination",scrollTo:!1,showFirst:!1,showLast:!1,templates:{first:'<i class="ic i-angle-double-left"></i>',last:'<i class="ic i-angle-double-right"></i>',previous:'<i class="ic i-angle-left"></i>',next:'<i class="ic i-angle-right"></i>'},cssClasses:{root:"pagination",item:"pagination-item",link:"page-number",selectedItem:"current",disabledItem:"disabled-item"}})]),t.start(),x.each(".search",s=>{s.addEventListener("click",()=>{document.body.style.overflow="hidden",Q(ie,"shrinkIn",()=>{x(".search-input").focus()})})});let a=()=>{document.body.style.overflow="",Q(ie,0)};ie.addEventListener("click",s=>{s.target===ie&&a()}),x(".close-btn").addEventListener("click",a),window.addEventListener("pjax:success",a),window.addEventListener("keyup",s=>{s.key==="Escape"&&a()})}var ca=xe(wt());function da(){typeof CONFIG.fireworks>"u"||(0,ca.default)(CONFIG.fireworks)}var ha=xe(bt());function ua(){Vue.createApp({data(){return{}},methods:{changeThemeByBtn(){let e,t=x(".theme").child(".ic"),a=te.createChild("div",{id:"neko",innerHTML:'<div class="planet"><div class="sun"></div><div class="moon"></div></div><div class="body"><div class="face"><section class="eyes left"><span class="pupil"></span></section><section class="eyes right"><span class="pupil"></span></section><span class="nose"></span></div></div>'}),s=()=>{Q(a,{delay:2500,opacity:0},()=>{te.removeChild(a)})};t.hasClass("i-sun")?e=()=>{a.addClass("dark"),ee("dark"),F.set("theme","dark"),s()}:(a.addClass("dark"),e=()=>{a.removeClass("dark"),ee(),F.set("theme","light"),s()}),Q(a,1,()=>{setTimeout(e,210)},()=>{a.display("block")})}}}).mount("#rightNav")}var tt=typeof window>"u",pa=!tt&&"loading"in HTMLImageElement.prototype,ma=!tt&&(!("onscroll"in window)||/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent));function fa(e,t=document){return typeof e=="string"?[...t.querySelectorAll(e)]:e instanceof Element?[e]:[...e]}function ga(e,t){let a,s;return e>=1?(a=t,s=Math.round(t/e)):(a=Math.round(t*e),s=t),{width:a,height:s}}function ya(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),a=typeof Buffer<"u"?Buffer.from(t,"base64"):Uint8Array.from(atob(t),s=>s.charCodeAt(0));return new Uint8Array(a)}function va(e,t){let a;return function(...s){a&&clearTimeout(a),a=setTimeout(()=>{a=void 0,e(...s)},t)}}function at(e,t,a){let s=e*4+1,o=6+t*(5+s),f=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,0,0,e>>8,e&255,0,0,t>>8,t&255,8,6,0,0,0,0,0,0,0,o>>>24,o>>16&255,o>>8&255,o&255,73,68,65,84,120,1],d=[0,498536548,997073096,651767980,1994146192,1802195444,1303535960,1342533948,-306674912,-267414716,-690576408,-882789492,-1687895376,-2032938284,-1609899400,-1111625188],l=1,y=0;for(let b=0,p=0,L=s-1;b<t;b++,L+=s-1)for(f.push(b+1<t?0:1,s&255,s>>8,~s&255,s>>8^255,0),y=(y+l)%65521;p<L;p++){let O=a[p]&255;f.push(O),l=(l+O)%65521,y=(y+l)%65521}f.push(y>>8,y&255,l>>8,l&255,0,0,0,0,0,0,0,0,73,69,78,68,174,66,96,130);for(let[b,p]of[[12,29],[37,41+o]]){let L=-1;for(let O=b;O<p;O++)L^=f[O],L=L>>>4^d[L&15],L=L>>>4^d[L&15];L=~L,f[p++]=L>>>24,f[p++]=L>>16&255,f[p++]=L>>8&255,f[p++]=L&255}return`data:image/png;base64,${typeof Buffer<"u"?Buffer.from(new Uint8Array(f)).toString("base64"):btoa(String.fromCharCode(...f))}`}var je=32,wa="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ba="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz#$%*+,-.:;=?@[]^_{|}~",be=(e,t,a)=>{let s=0;for(;t<a;)s*=83,s+=ba.indexOf(e[t++]);return s},st=Math.pow,le=Math.PI,Ea=le*2,it=3294.6,nt=269.025,Ca=e=>e>10.31475?st(e/nt+.052132,2.4):e/it,Se=e=>~~(e>1227e-8?nt*st(e,.416666)-13.025:e*it+1),oe=e=>(e<0?-1:1)*e*e,rt=e=>{for(e+=le/2;e>le;)e-=Ea;let t=1.27323954*e-.405284735*oe(e);return .225*(oe(t)-t)+t};function xa(e){let t=be(e,2,6);return[t>>16,t>>8&255,t&255]}function La(e,t,a,s){let o=be(e,0,1),f=o%9+1,d=~~(o/9)+1,l=f*d,y=0,b=0,p=0,L=0,O=0,i=0,m=0,h=0,c=0,r=0,n=0,v=0,u=0,w=0,M=(be(e,1,2)+1)/13446*(s|1),k=new Float64Array(l*3),S=xa(e);for(y=0;y<3;y++)k[y]=Ca(S[y]);for(y=1;y<l;y++)w=be(e,4+y*2,6+y*2),k[y*3]=oe(~~(w/(19*19))-9)*M,k[y*3+1]=oe(~~(w/19)%19-9)*M,k[y*3+2]=oe(w%19-9)*M;let N=t*4,q=new Uint8ClampedArray(N*a);for(L=0;L<a;L++)for(v=le*L/a,p=0;p<t;p++){for(O=0,i=0,m=0,u=le*p/t,b=0;b<d;b++)for(c=rt(v*b),y=0;y<f;y++)h=rt(u*y)*c,r=(y+b*f)*3,O+=k[r]*h,i+=k[r+1]*h,m+=k[r+2]*h;n=4*p+L*N,q[n]=Se(O),q[n+1]=Se(i),q[n+2]=Se(m),q[n+3]=255}return q}function ka(e,{ratio:t=1,size:a=je}={}){let{width:s,height:o}=ga(t,a),f=La(e,s,o);return at(s,o,f)}function Ta(e){let{PI:t,min:a,max:s,cos:o,round:f}=Math,d=e[0]|e[1]<<8|e[2]<<16,l=e[3]|e[4]<<8,y=(d&63)/63,b=(d>>6&63)/31.5-1,p=(d>>12&63)/31.5-1,L=(d>>18&31)/31,O=d>>23,i=(l>>3&63)/63,m=(l>>9&63)/63,h=l>>15,c=s(3,h?O?5:7:l&7),r=s(3,h?l&7:O?5:7),n=O?(e[5]&15)/15:1,v=(e[5]>>4)/15,u=O?6:5,w=0,M=(E,C,A)=>{let H=[];for(let j=0;j<C;j++)for(let I=j?0:1;I*C<E*(C-j);I++)H.push(((e[u+(w>>1)]>>((w++&1)<<2)&15)/7.5-1)*A);return H},k=M(c,r,L),S=M(3,3,i*1.25),N=M(3,3,m*1.25),q=O&&M(5,5,v),_=Aa(e),W=f(_>1?32:32*_),X=f(_>1?32/_:32),V=new Uint8Array(W*X*4),T=[],g=[];for(let E=0,C=0;E<X;E++)for(let A=0;A<W;A++,C+=4){let H=y,j=b,I=p,U=n;for(let P=0,z=s(c,O?5:3);P<z;P++)T[P]=o(t/W*(A+.5)*P);for(let P=0,z=s(r,O?5:3);P<z;P++)g[P]=o(t/X*(E+.5)*P);for(let P=0,z=0;P<r;P++)for(let G=P?0:1,K=g[P]*2;G*r<c*(r-P);G++,z++)H+=k[z]*T[G]*K;for(let P=0,z=0;P<3;P++)for(let G=P?0:1,K=g[P]*2;G<3-P;G++,z++){let J=T[G]*K;j+=S[z]*J,I+=N[z]*J}if(O)for(let P=0,z=0;P<5;P++)for(let G=P?0:1,K=g[P]*2;G<5-P;G++,z++)U+=q[z]*T[G]*K;let R=H-2/3*j,B=(3*H-R+I)/2,D=B-I;V[C]=s(0,255*a(1,B)),V[C+1]=s(0,255*a(1,D)),V[C+2]=s(0,255*a(1,R)),V[C+3]=s(0,255*a(1,U))}return{w:W,h:X,rgba:V}}function Aa(e){let t=e[3],a=e[2]&128,s=e[4]&128,o=s?a?5:7:t&7,f=s?t&7:a?5:7;return o/f}function Ma(e){let{w:t,h:a,rgba:s}=Ta(ya(e));return at(t,a,s)}function Oa(e='img[loading="lazy"]',{hash:t=!0,hashType:a="blurhash",placeholderSize:s=je,updateSizesOnResize:o=!1,onImageLoad:f}={}){let d=new Set;for(let l of fa(e)){let y=Pe(l,{updateOnResize:o});if(o&&y&&d.add(y),(typeof __UNLAZY_HASH_DECODING__>"u"||__UNLAZY_HASH_DECODING__)&&t){let p=Na({image:l,hash:typeof t=="string"?t:void 0,hashType:a,size:s});p&&(l.src=p)}if(!l.dataset.src&&!l.dataset.srcset)continue;if(ma||!pa){ot(l),qe(l),He(l);continue}if(l.src||(l.src=wa),l.complete&&l.naturalWidth>0){lt(l,f);continue}let b=()=>lt(l,f);l.addEventListener("load",b,{once:!0}),d.add(()=>l.removeEventListener("load",b))}return()=>{for(let l of d)l();d.clear()}}function lt(e,t){let a=new Image,{srcset:s,src:o,sizes:f}=e.dataset;if(f==="auto"){let d=ct(e);d&&(a.sizes=`${d}px`)}else e.sizes&&(a.sizes=e.sizes);s&&(a.srcset=s),o&&(a.src=o),a.addEventListener("load",()=>{ot(e),qe(e),He(e),t?.(e)})}function Na({image:e,hash:t,hashType:a="blurhash",size:s=je,ratio:o}={}){if(!t&&e){let{blurhash:f,thumbhash:d}=e.dataset;t=d||f,a=d?"thumbhash":"blurhash"}if(t)try{if(a==="thumbhash")return Ma(t);if(!o&&e){let f=e.width||e.offsetWidth||s,d=e.height||e.offsetHeight||s;o=f/d}return ka(t,{ratio:o,size:s})}catch{}}var Ee=new WeakMap;function Pe(e,t){if(e.dataset.sizes!=="auto")return;let a=ct(e);if(a&&(e.sizes=`${a}px`),e.parentElement?.tagName.toLowerCase()==="picture"&&!t?.skipChildren&&[...e.parentElement.getElementsByTagName("source")].forEach(s=>Pe(s,{skipChildren:!0})),t?.updateOnResize){if(!Ee.has(e)){let s=va(()=>Pe(e),500),o=new ResizeObserver(s);Ee.set(e,o),o.observe(e)}return()=>{let s=Ee.get(e);s&&(s.disconnect(),Ee.delete(e))}}}function He(e){e.dataset.src&&(e.src=e.dataset.src,e.removeAttribute("data-src"))}function qe(e){e.dataset.srcset&&(e.srcset=e.dataset.srcset,e.removeAttribute("data-srcset"))}function ot(e){let t=e.parentElement;t?.tagName.toLowerCase()==="picture"&&([...t.querySelectorAll("source[data-srcset]")].forEach(qe),[...t.querySelectorAll("source[data-src]")].forEach(He))}function ct(e){return e instanceof HTMLSourceElement?e.parentElement?.getElementsByTagName("img")[0]?.offsetWidth:e.offsetWidth}var ja=()=>{Qt(),ua(),Ht(new ha.default({selectors:["head title",".languages",".twikoo",".pjax",".leancloud-recent-comment","script[data-config]"],cacheBust:!1})),CONFIG.quicklink.ignores=LOCAL.ignores,quicklink.listen(CONFIG.quicklink),sa(),CONFIG.disableVL||ra(),ia(),oa($e),da(),Oa(),window.addEventListener("scroll",na),window.addEventListener("resize",Ze),window.addEventListener("pjax:send",la),window.addEventListener("pjax:success",et),window.addEventListener("beforeunload",()=>{Fe()}),et(1)};Kt(),window.addEventListener("DOMContentLoaded",ja,{passive:!0}),console.log("%c Theme.ShokaX v"+CONFIG.version+" %c https://github.com/theme-shoka-x/hexo-theme-shokaX ","color: white; background: #e9546b; padding:5px 0;","padding:4px;border:1px solid #e9546b;")})();/*! Bundled license information:

@unlazy/core/dist/shared/core.ae5b1847.mjs:
  (**
   * Encodes an RGBA image to a PNG data URI. RGB should not be premultiplied by A.
   *
   * @remarks
   * This is optimized for speed and simplicity and does not optimize for size
   * at all. This doesn't do any compression (all values are stored uncompressed).
   *
   * @see https://github.com/evanw/thumbhash
   * @author Evan Wallace
   * @license MIT
   *)
*/
