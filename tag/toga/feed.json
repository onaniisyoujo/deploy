{
    "version": "https://jsonfeed.org/version/1",
    "title": "少女的Blog • All posts by \"toga\" tag",
    "description": "",
    "home_page_url": "https://onaniishoujo.github.io",
    "items": [
        {
            "id": "https://onaniishoujo.github.io/2024/03/22/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8Toga%E5%88%B6%E4%BD%9C%E5%A5%87%E6%80%AA%E7%9A%84%E5%AE%89%E5%8D%93App/",
            "url": "https://onaniishoujo.github.io/2024/03/22/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8Toga%E5%88%B6%E4%BD%9C%E5%A5%87%E6%80%AA%E7%9A%84%E5%AE%89%E5%8D%93App/",
            "title": "如何使用Toga制作奇怪的安卓App",
            "date_published": "2024-03-22T13:03:52.000Z",
            "content_html": "<p>使用 Python 的 Toga 框架，快速制作一些 &quot;奇怪的&quot; 安卓 App</p>\n<p><s>比如给某位幸运的同学做个 同城约 *</s>  <s>哈哈哈哈</s></p>\n<h4 id=\"安装框架\"><a class=\"anchor\" href=\"#安装框架\">#</a> 安装框架</h4>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>pip <span class=\"token function\">install</span> briefcase</pre></td></tr></table></figure><h4 id=\"新建项目\"><a class=\"anchor\" href=\"#新建项目\">#</a> 新建项目</h4>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>briefcase new</pre></td></tr></table></figure><h4 id=\"编写代码\"><a class=\"anchor\" href=\"#编写代码\">#</a> 编写代码</h4>\n<p>在 <code>src</code>  目录中找到 <code>app.py</code> ，这里给一个插入图片的示例，图片文件要放在 <code>src/应用名/resources</code>  目录下</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> toga</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">from</span> toga<span class=\"token punctuation\">.</span>style <span class=\"token keyword\">import</span> Pack</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">from</span> toga<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>pack <span class=\"token keyword\">import</span> COLUMN</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">from</span> toga<span class=\"token punctuation\">.</span>images <span class=\"token keyword\">import</span> Image</pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">MyApp</span><span class=\"token punctuation\">(</span>toga<span class=\"token punctuation\">.</span>App<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">startup</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>        main_box <span class=\"token operator\">=</span> toga<span class=\"token punctuation\">.</span>Box<span class=\"token punctuation\">(</span>style<span class=\"token operator\">=</span>Pack<span class=\"token punctuation\">(</span>direction<span class=\"token operator\">=</span>COLUMN<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        image <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">(</span><span class=\"token string\">'./resources/hi.jpg'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        image_view <span class=\"token operator\">=</span> toga<span class=\"token punctuation\">.</span>ImageView<span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">,</span> style<span class=\"token operator\">=</span>Pack<span class=\"token punctuation\">(</span>flex<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        main_box<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span>image_view<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        self<span class=\"token punctuation\">.</span>main_window <span class=\"token operator\">=</span> toga<span class=\"token punctuation\">.</span>MainWindow<span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span>self<span class=\"token punctuation\">.</span>formal_name<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        self<span class=\"token punctuation\">.</span>main_window<span class=\"token punctuation\">.</span>content <span class=\"token operator\">=</span> main_box</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>        self<span class=\"token punctuation\">.</span>main_window<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token keyword\">return</span> MyApp<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure><h4 id=\"打包apk\"><a class=\"anchor\" href=\"#打包apk\">#</a> 打包 Apk</h4>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>briefcase create android</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>briefcase build android</pre></td></tr></table></figure><p>到这里会打包一个 Apk，这个时候就可以安装了</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>briefcase package android</pre></td></tr></table></figure><p>上面这个命令会生成一个 <code>.aab</code>  文件，个人感觉没什么用</p>\n<h4 id=\"发给某幸运儿\"><a class=\"anchor\" href=\"#发给某幸运儿\">#</a> <s>发给某幸运儿</s></h4>\n<p><s>然后就被骂了哈哈哈哈哈哈</s></p>\n<p>这里还有一个展示 html 页面的代码，Windows11 测试通过，安卓没试过</p>\n<figure class=\"highlight python\"><figcaption data-lang=\"python\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">import</span> toga</pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">MyApp</span><span class=\"token punctuation\">(</span>toga<span class=\"token punctuation\">.</span>App<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">def</span> <span class=\"token function\">startup</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>        webview <span class=\"token operator\">=</span> toga<span class=\"token punctuation\">.</span>WebView<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>        web<span class=\"token operator\">=</span><span class=\"token triple-quoted-string string\">r\"\"\"&lt;h1>这里放你的html内容&lt;/h1>\"\"\"</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>        webview<span class=\"token punctuation\">.</span>set_content<span class=\"token punctuation\">(</span><span class=\"token string\">\"example.com\"</span><span class=\"token punctuation\">,</span> web<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        self<span class=\"token punctuation\">.</span>main_window <span class=\"token operator\">=</span> toga<span class=\"token punctuation\">.</span>MainWindow<span class=\"token punctuation\">(</span>title<span class=\"token operator\">=</span>self<span class=\"token punctuation\">.</span>formal_name<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        self<span class=\"token punctuation\">.</span>main_window<span class=\"token punctuation\">.</span>content <span class=\"token operator\">=</span> webview</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        self<span class=\"token punctuation\">.</span>main_window<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">return</span> MyApp<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure>",
            "tags": [
                "Code",
                "Python",
                "Toga"
            ]
        }
    ]
}